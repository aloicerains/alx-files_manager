{"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _redis = _interopRequireDefault(require(\"./utils/redis\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n  return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.t0 = console;\n          _context2.next = 3;\n          return _redis[\"default\"].isAlive();\n\n        case 3:\n          _context2.t1 = _context2.sent;\n\n          _context2.t0.log.call(_context2.t0, _context2.t1);\n\n          _context2.t2 = console;\n          _context2.next = 8;\n          return _redis[\"default\"].get('myKey');\n\n        case 8:\n          _context2.t3 = _context2.sent;\n\n          _context2.t2.log.call(_context2.t2, _context2.t3);\n\n          _context2.next = 12;\n          return _redis[\"default\"].set('myKey', 12, 5);\n\n        case 12:\n          _context2.t4 = console;\n          _context2.next = 15;\n          return _redis[\"default\"].get('myKey');\n\n        case 15:\n          _context2.t5 = _context2.sent;\n\n          _context2.t4.log.call(_context2.t4, _context2.t5);\n\n          setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.t0 = console;\n                    _context.next = 3;\n                    return _redis[\"default\"].get('myKey');\n\n                  case 3:\n                    _context.t1 = _context.sent;\n\n                    _context.t0.log.call(_context.t0, _context.t1);\n\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          })), 1000 * 10);\n\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _callee2);\n}))();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25zb2xlIiwicmVkaXNDbGllbnQiLCJpc0FsaXZlIiwibG9nIiwiZ2V0Iiwic2V0Iiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhbnNmb3JzL0FMWC9hbHgtZmlsZXNfbWFuYWdlci8iLCJzb3VyY2VzIjpbIm1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4vdXRpbHMvcmVkaXMnO1xuXG4oYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGF3YWl0IHJlZGlzQ2xpZW50LmlzQWxpdmUoKSk7XG4gICAgY29uc29sZS5sb2coYXdhaXQgcmVkaXNDbGllbnQuZ2V0KCdteUtleScpKTtcbiAgICBhd2FpdCByZWRpc0NsaWVudC5zZXQoJ215S2V5JywgMTIsIDUpO1xuICAgIGNvbnNvbGUubG9nKGF3YWl0IHJlZGlzQ2xpZW50LmdldCgnbXlLZXknKSk7XG5cbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYXdhaXQgcmVkaXNDbGllbnQuZ2V0KCdteUtleScpKTtcbiAgICB9LCAxMDAwKjEwKVxufSkoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7OytDQUNBLG9KOzs7Ozs7QUFDQSwyREFBQztFQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUEsZUFDR0EsT0FESDtVQUFBO1VBQUEsT0FDcUJDLGlCQUFBLENBQVlDLE9BQVosRUFEckI7O1FBQUE7VUFBQTs7VUFBQSxhQUNXQyxHQURYOztVQUFBLGVBRUdILE9BRkg7VUFBQTtVQUFBLE9BRXFCQyxpQkFBQSxDQUFZRyxHQUFaLENBQWdCLE9BQWhCLENBRnJCOztRQUFBO1VBQUE7O1VBQUEsYUFFV0QsR0FGWDs7VUFBQTtVQUFBLE9BR1NGLGlCQUFBLENBQVlJLEdBQVosQ0FBZ0IsT0FBaEIsRUFBeUIsRUFBekIsRUFBNkIsQ0FBN0IsQ0FIVDs7UUFBQTtVQUFBLGVBSUdMLE9BSkg7VUFBQTtVQUFBLE9BSXFCQyxpQkFBQSxDQUFZRyxHQUFaLENBQWdCLE9BQWhCLENBSnJCOztRQUFBO1VBQUE7O1VBQUEsYUFJV0QsR0FKWDs7VUFNR0csVUFBVSwwRUFBQztZQUFBO2NBQUE7Z0JBQUE7a0JBQUE7b0JBQUEsY0FDUE4sT0FETztvQkFBQTtvQkFBQSxPQUNXQyxpQkFBQSxDQUFZRyxHQUFaLENBQWdCLE9BQWhCLENBRFg7O2tCQUFBO29CQUFBOztvQkFBQSxZQUNDRCxHQUREOztrQkFBQTtrQkFBQTtvQkFBQTtnQkFBQTtjQUFBO1lBQUE7VUFBQSxDQUFELElBRVAsT0FBSyxFQUZFLENBQVY7O1FBTkg7UUFBQTtVQUFBO01BQUE7SUFBQTtFQUFBO0FBQUEsQ0FBRCJ9","map":{"version":3,"names":["console","redisClient","isAlive","log","get","set","setTimeout"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/","sources":["main.js"],"sourcesContent":["import redisClient from './utils/redis';\n\n(async () => {\n    console.log(await redisClient.isAlive());\n    console.log(await redisClient.get('myKey'));\n    await redisClient.set('myKey', 12, 5);\n    console.log(await redisClient.get('myKey'));\n\n    setTimeout(async () => {\n        console.log(await redisClient.get('myKey'));\n    }, 1000*10)\n})();\n"],"mappings":";;;;AAAA;;;;+CACA,oJ;;;;;;AACA,2DAAC;EAAA;IAAA;MAAA;QAAA;UAAA,eACGA,OADH;UAAA;UAAA,OACqBC,iBAAA,CAAYC,OAAZ,EADrB;;QAAA;UAAA;;UAAA,aACWC,GADX;;UAAA,eAEGH,OAFH;UAAA;UAAA,OAEqBC,iBAAA,CAAYG,GAAZ,CAAgB,OAAhB,CAFrB;;QAAA;UAAA;;UAAA,aAEWD,GAFX;;UAAA;UAAA,OAGSF,iBAAA,CAAYI,GAAZ,CAAgB,OAAhB,EAAyB,EAAzB,EAA6B,CAA7B,CAHT;;QAAA;UAAA,eAIGL,OAJH;UAAA;UAAA,OAIqBC,iBAAA,CAAYG,GAAZ,CAAgB,OAAhB,CAJrB;;QAAA;UAAA;;UAAA,aAIWD,GAJX;;UAMGG,UAAU,0EAAC;YAAA;cAAA;gBAAA;kBAAA;oBAAA,cACPN,OADO;oBAAA;oBAAA,OACWC,iBAAA,CAAYG,GAAZ,CAAgB,OAAhB,CADX;;kBAAA;oBAAA;;oBAAA,YACCD,GADD;;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAAD,IAEP,OAAK,EAFE,CAAV;;QANH;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAD"}},"mtime":1654869949492},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/utils/redis.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n// class RedisClient\nvar redis = require('redis');\n\nvar util = require('util');\n\nvar RedisClient = /*#__PURE__*/function () {\n  function RedisClient() {\n    _classCallCheck(this, RedisClient);\n\n    this.client = redis.createClient();\n    this.client.on('error', function (err) {\n      return console.log(\"Redis connection error: \".concat(err.message));\n    });\n  }\n\n  _createClass(RedisClient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      return this.client.connected;\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key) {\n        var getAsync;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                getAsync = util.promisify(this.client.get).bind(this.client);\n                return _context.abrupt(\"return\", getAsync(key));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get(_x) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"set\",\n    value: function () {\n      var _set = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key, value, time) {\n        var setAsync;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                setAsync = util.promisify(this.client.set).bind(this.client);\n                return _context2.abrupt(\"return\", setAsync(key, value, 'EX', time));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function set(_x2, _x3, _x4) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }()\n  }, {\n    key: \"del\",\n    value: function () {\n      var _del = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(key) {\n        var delAsync, value;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                delAsync = util.promisify(this.client.del).bind(this.client);\n                _context3.next = 3;\n                return delAsync(key);\n\n              case 3:\n                value = _context3.sent;\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function del(_x5) {\n        return _del.apply(this, arguments);\n      }\n\n      return del;\n    }()\n  }]);\n\n  return RedisClient;\n}();\n\nvar redisClient = new RedisClient();\nmodule.exports = redisClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWRpcyIsInJlcXVpcmUiLCJ1dGlsIiwiUmVkaXNDbGllbnQiLCJjbGllbnQiLCJjcmVhdGVDbGllbnQiLCJvbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiY29ubmVjdGVkIiwia2V5IiwiZ2V0QXN5bmMiLCJwcm9taXNpZnkiLCJnZXQiLCJiaW5kIiwidmFsdWUiLCJ0aW1lIiwic2V0QXN5bmMiLCJzZXQiLCJkZWxBc3luYyIsImRlbCIsInJlZGlzQ2xpZW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhbnNmb3JzL0FMWC9hbHgtZmlsZXNfbWFuYWdlci91dGlscy8iLCJzb3VyY2VzIjpbInJlZGlzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNsYXNzIFJlZGlzQ2xpZW50XG5jb25zdCByZWRpcyA9IHJlcXVpcmUoJ3JlZGlzJyk7XG5jb25zdCB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuXG5jbGFzcyBSZWRpc0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2xpZW50ID0gcmVkaXMuY3JlYXRlQ2xpZW50KCk7XG4gICAgdGhpcy5jbGllbnQub24oJ2Vycm9yJywgKGVycikgPT4gY29uc29sZS5sb2coYFJlZGlzIGNvbm5lY3Rpb24gZXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCkpO1xuICB9XG4gIFxuICBpc0FsaXZlKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5jb25uZWN0ZWQ7IFxuICB9XG4gIFxuXG4gIGFzeW5jIGdldChrZXkpIHtcbiAgICBjb25zdCBnZXRBc3luYyA9IHV0aWwucHJvbWlzaWZ5KHRoaXMuY2xpZW50LmdldCkuYmluZCh0aGlzLmNsaWVudCk7XG4gICAgcmV0dXJuIGdldEFzeW5jKGtleSk7XG4gIH1cblxuICBhc3luYyBzZXQoa2V5LCB2YWx1ZSwgdGltZSkge1xuICAgIGNvbnN0IHNldEFzeW5jID0gdXRpbC5wcm9taXNpZnkodGhpcy5jbGllbnQuc2V0KS5iaW5kKHRoaXMuY2xpZW50KTtcbiAgICByZXR1cm4gc2V0QXN5bmMoa2V5LCB2YWx1ZSwgJ0VYJywgdGltZSk7XG4gIH1cblxuICBhc3luYyBkZWwoa2V5KSB7XG4gICAgY29uc3QgZGVsQXN5bmMgPSB1dGlsLnByb21pc2lmeSh0aGlzLmNsaWVudC5kZWwpLmJpbmQodGhpcy5jbGllbnQpO1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgZGVsQXN5bmMoa2V5KTtcbiAgfVxufVxuXG5jb25zdCByZWRpc0NsaWVudCA9IG5ldyBSZWRpc0NsaWVudDtcbm1vZHVsZS5leHBvcnRzID0gcmVkaXNDbGllbnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7K0NBQ0Esb0o7Ozs7Ozs7Ozs7OztBQURBO0FBQ0EsSUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxJQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztJQUVNRSxXO0VBQ0osdUJBQWM7SUFBQTs7SUFDWixLQUFLQyxNQUFMLEdBQWNKLEtBQUssQ0FBQ0ssWUFBTixFQUFkO0lBQ0EsS0FBS0QsTUFBTCxDQUFZRSxFQUFaLENBQWUsT0FBZixFQUF3QixVQUFDQyxHQUFEO01BQUEsT0FBU0MsT0FBTyxDQUFDQyxHQUFSLG1DQUF1Q0YsR0FBRyxDQUFDRyxPQUEzQyxFQUFUO0lBQUEsQ0FBeEI7RUFDRDs7OztXQUVELG1CQUFVO01BQ1IsT0FBTyxLQUFLTixNQUFMLENBQVlPLFNBQW5CO0lBQ0Q7Ozs7NEVBR0QsaUJBQVVDLEdBQVY7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNRQyxRQURSLEdBQ21CWCxJQUFJLENBQUNZLFNBQUwsQ0FBZSxLQUFLVixNQUFMLENBQVlXLEdBQTNCLEVBQWdDQyxJQUFoQyxDQUFxQyxLQUFLWixNQUExQyxDQURuQjtnQkFBQSxpQ0FFU1MsUUFBUSxDQUFDRCxHQUFELENBRmpCOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs0RUFLQSxrQkFBVUEsR0FBVixFQUFlSyxLQUFmLEVBQXNCQyxJQUF0QjtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1FDLFFBRFIsR0FDbUJqQixJQUFJLENBQUNZLFNBQUwsQ0FBZSxLQUFLVixNQUFMLENBQVlnQixHQUEzQixFQUFnQ0osSUFBaEMsQ0FBcUMsS0FBS1osTUFBMUMsQ0FEbkI7Z0JBQUEsa0NBRVNlLFFBQVEsQ0FBQ1AsR0FBRCxFQUFNSyxLQUFOLEVBQWEsSUFBYixFQUFtQkMsSUFBbkIsQ0FGakI7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7OzRFQUtBLGtCQUFVTixHQUFWO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDUVMsUUFEUixHQUNtQm5CLElBQUksQ0FBQ1ksU0FBTCxDQUFlLEtBQUtWLE1BQUwsQ0FBWWtCLEdBQTNCLEVBQWdDTixJQUFoQyxDQUFxQyxLQUFLWixNQUExQyxDQURuQjtnQkFBQTtnQkFBQSxPQUVzQmlCLFFBQVEsQ0FBQ1QsR0FBRCxDQUY5Qjs7Y0FBQTtnQkFFUUssS0FGUjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7Ozs7OztBQU1GLElBQU1NLFdBQVcsR0FBRyxJQUFJcEIsV0FBSixFQUFwQjtBQUNBcUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixXQUFqQiJ9","map":{"version":3,"names":["redis","require","util","RedisClient","client","createClient","on","err","console","log","message","connected","key","getAsync","promisify","get","bind","value","time","setAsync","set","delAsync","del","redisClient","module","exports"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/utils/","sources":["redis.js"],"sourcesContent":["// class RedisClient\nconst redis = require('redis');\nconst util = require('util');\n\nclass RedisClient {\n  constructor() {\n    this.client = redis.createClient();\n    this.client.on('error', (err) => console.log(`Redis connection error: ${err.message}`));\n  }\n  \n  isAlive() {\n    return this.client.connected; \n  }\n  \n\n  async get(key) {\n    const getAsync = util.promisify(this.client.get).bind(this.client);\n    return getAsync(key);\n  }\n\n  async set(key, value, time) {\n    const setAsync = util.promisify(this.client.set).bind(this.client);\n    return setAsync(key, value, 'EX', time);\n  }\n\n  async del(key) {\n    const delAsync = util.promisify(this.client.del).bind(this.client);\n    const value = await delAsync(key);\n  }\n}\n\nconst redisClient = new RedisClient;\nmodule.exports = redisClient;\n"],"mappings":";;;;+CACA,oJ;;;;;;;;;;;;AADA;AACA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;IAEME,W;EACJ,uBAAc;IAAA;;IACZ,KAAKC,MAAL,GAAcJ,KAAK,CAACK,YAAN,EAAd;IACA,KAAKD,MAAL,CAAYE,EAAZ,CAAe,OAAf,EAAwB,UAACC,GAAD;MAAA,OAASC,OAAO,CAACC,GAAR,mCAAuCF,GAAG,CAACG,OAA3C,EAAT;IAAA,CAAxB;EACD;;;;WAED,mBAAU;MACR,OAAO,KAAKN,MAAL,CAAYO,SAAnB;IACD;;;;4EAGD,iBAAUC,GAAV;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,QADR,GACmBX,IAAI,CAACY,SAAL,CAAe,KAAKV,MAAL,CAAYW,GAA3B,EAAgCC,IAAhC,CAAqC,KAAKZ,MAA1C,CADnB;gBAAA,iCAESS,QAAQ,CAACD,GAAD,CAFjB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;4EAKA,kBAAUA,GAAV,EAAeK,KAAf,EAAsBC,IAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,QADR,GACmBjB,IAAI,CAACY,SAAL,CAAe,KAAKV,MAAL,CAAYgB,GAA3B,EAAgCJ,IAAhC,CAAqC,KAAKZ,MAA1C,CADnB;gBAAA,kCAESe,QAAQ,CAACP,GAAD,EAAMK,KAAN,EAAa,IAAb,EAAmBC,IAAnB,CAFjB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;4EAKA,kBAAUN,GAAV;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQS,QADR,GACmBnB,IAAI,CAACY,SAAL,CAAe,KAAKV,MAAL,CAAYkB,GAA3B,EAAgCN,IAAhC,CAAqC,KAAKZ,MAA1C,CADnB;gBAAA;gBAAA,OAEsBiB,QAAQ,CAACT,GAAD,CAF9B;;cAAA;gBAEQK,KAFR;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AAMF,IAAMM,WAAW,GAAG,IAAIpB,WAAJ,EAApB;AACAqB,MAAM,CAACC,OAAP,GAAiBF,WAAjB"}},"mtime":1655381974391},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/main_1.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _db = _interopRequireDefault(require(\"./utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar waitConnection = function waitConnection() {\n  return new Promise(function (resolve, reject) {\n    var i = 0;\n\n    var repeatFct = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return setTimeout(function () {\n                  i += 1;\n\n                  if (i >= 10) {\n                    reject();\n                  } else if (!_db[\"default\"].isAlive()) {\n                    repeatFct();\n                  } else {\n                    resolve();\n                  }\n                }, 1000);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function repeatFct() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    repeatFct();\n  });\n};\n\n_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n  return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(_db[\"default\"].isAlive());\n          _context2.next = 3;\n          return waitConnection()[\"catch\"](function (err) {\n            return console.log(err);\n          });\n\n        case 3:\n          ;\n          console.log(_db[\"default\"].isAlive());\n          _context2.next = 7;\n          return _db[\"default\"].nbUsers().then(function (res) {\n            return console.log(res);\n          })[\"catch\"](function (err) {\n            return console.log(err);\n          });\n\n        case 7:\n          _context2.t0 = console;\n          _context2.next = 10;\n          return _db[\"default\"].nbFiles();\n\n        case 10:\n          _context2.t1 = _context2.sent;\n\n          _context2.t0.log.call(_context2.t0, _context2.t1);\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _callee2);\n}))();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3YWl0Q29ubmVjdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaSIsInJlcGVhdEZjdCIsInNldFRpbWVvdXQiLCJkYkNsaWVudCIsImlzQWxpdmUiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwibmJVc2VycyIsInRoZW4iLCJyZXMiLCJuYkZpbGVzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS90cmFuc2ZvcnMvQUxYL2FseC1maWxlc19tYW5hZ2VyLyIsInNvdXJjZXMiOlsibWFpbl8xLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYkNsaWVudCBmcm9tICcuL3V0aWxzL2RiJztcblxuY29uc3Qgd2FpdENvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCByZXBlYXRGY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZighZGJDbGllbnQuaXNBbGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdEZjdCgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVwZWF0RmN0KCk7XG4gICAgfSlcbn07XG5cbihhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coZGJDbGllbnQuaXNBbGl2ZSgpKTtcbiAgICBhd2FpdCB3YWl0Q29ubmVjdGlvbigpLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpOztcbiAgICBjb25zb2xlLmxvZyhkYkNsaWVudC5pc0FsaXZlKCkpO1xuICAgIGF3YWl0IGRiQ2xpZW50Lm5iVXNlcnMoKS50aGVuKChyZXMpID0+IGNvbnNvbGUubG9nKHJlcykpLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgIGNvbnNvbGUubG9nKGF3YWl0IGRiQ2xpZW50Lm5iRmlsZXMoKSk7XG59KSgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7K0NBQ0Esb0o7Ozs7OztBQUNBLElBQU1BLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsR0FBTTtFQUN6QixPQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7SUFDcEMsSUFBSUMsQ0FBQyxHQUFHLENBQVI7O0lBQ0EsSUFBTUMsU0FBUztNQUFBLHNFQUFHO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUE7Z0JBQUEsT0FDUkMsVUFBVSxDQUFDLFlBQU07a0JBQ25CRixDQUFDLElBQUksQ0FBTDs7a0JBQ0EsSUFBSUEsQ0FBQyxJQUFJLEVBQVQsRUFBYTtvQkFDVEQsTUFBTTtrQkFDVCxDQUZELE1BR0ssSUFBRyxDQUFDSSxjQUFBLENBQVNDLE9BQVQsRUFBSixFQUF3QjtvQkFDekJILFNBQVM7a0JBQ1osQ0FGSSxNQUdBO29CQUNESCxPQUFPO2tCQUNWO2dCQUNKLENBWGUsRUFXYixJQVhhLENBREY7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLENBQUg7O01BQUEsZ0JBQVRHLFNBQVM7UUFBQTtNQUFBO0lBQUEsR0FBZjs7SUFjQUEsU0FBUztFQUNaLENBakJNLENBQVA7QUFrQkgsQ0FuQkQ7O0FBcUJBLDJEQUFDO0VBQUE7SUFBQTtNQUFBO1FBQUE7VUFDR0ksT0FBTyxDQUFDQyxHQUFSLENBQVlILGNBQUEsQ0FBU0MsT0FBVCxFQUFaO1VBREg7VUFBQSxPQUVTUixjQUFjLFdBQWQsQ0FBdUIsVUFBQ1csR0FBRDtZQUFBLE9BQVNGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxHQUFaLENBQVQ7VUFBQSxDQUF2QixDQUZUOztRQUFBO1VBRTJEO1VBQ3hERixPQUFPLENBQUNDLEdBQVIsQ0FBWUgsY0FBQSxDQUFTQyxPQUFULEVBQVo7VUFISDtVQUFBLE9BSVNELGNBQUEsQ0FBU0ssT0FBVCxHQUFtQkMsSUFBbkIsQ0FBd0IsVUFBQ0MsR0FBRDtZQUFBLE9BQVNMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSSxHQUFaLENBQVQ7VUFBQSxDQUF4QixXQUF5RCxVQUFDSCxHQUFEO1lBQUEsT0FBU0YsT0FBTyxDQUFDQyxHQUFSLENBQVlDLEdBQVosQ0FBVDtVQUFBLENBQXpELENBSlQ7O1FBQUE7VUFBQSxlQUtHRixPQUxIO1VBQUE7VUFBQSxPQUtxQkYsY0FBQSxDQUFTUSxPQUFULEVBTHJCOztRQUFBO1VBQUE7O1VBQUEsYUFLV0wsR0FMWDs7UUFBQTtRQUFBO1VBQUE7TUFBQTtJQUFBO0VBQUE7QUFBQSxDQUFEIn0=","map":{"version":3,"names":["waitConnection","Promise","resolve","reject","i","repeatFct","setTimeout","dbClient","isAlive","console","log","err","nbUsers","then","res","nbFiles"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/","sources":["main_1.js"],"sourcesContent":["import dbClient from './utils/db';\n\nconst waitConnection = () => {\n    return new Promise((resolve, reject) => {\n        let i = 0;\n        const repeatFct = async () => {\n            await setTimeout(() => {\n                i += 1;\n                if (i >= 10) {\n                    reject()\n                }\n                else if(!dbClient.isAlive()) {\n                    repeatFct()\n                }\n                else {\n                    resolve()\n                }\n            }, 1000);\n        };\n        repeatFct();\n    })\n};\n\n(async () => {\n    console.log(dbClient.isAlive());\n    await waitConnection().catch((err) => console.log(err));;\n    console.log(dbClient.isAlive());\n    await dbClient.nbUsers().then((res) => console.log(res)).catch((err) => console.log(err));\n    console.log(await dbClient.nbFiles());\n})();\n"],"mappings":";;;;AAAA;;;;+CACA,oJ;;;;;;AACA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,GAAM;EACzB,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;IACpC,IAAIC,CAAC,GAAG,CAAR;;IACA,IAAMC,SAAS;MAAA,sEAAG;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACRC,UAAU,CAAC,YAAM;kBACnBF,CAAC,IAAI,CAAL;;kBACA,IAAIA,CAAC,IAAI,EAAT,EAAa;oBACTD,MAAM;kBACT,CAFD,MAGK,IAAG,CAACI,cAAA,CAASC,OAAT,EAAJ,EAAwB;oBACzBH,SAAS;kBACZ,CAFI,MAGA;oBACDH,OAAO;kBACV;gBACJ,CAXe,EAWb,IAXa,CADF;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAH;;MAAA,gBAATG,SAAS;QAAA;MAAA;IAAA,GAAf;;IAcAA,SAAS;EACZ,CAjBM,CAAP;AAkBH,CAnBD;;AAqBA,2DAAC;EAAA;IAAA;MAAA;QAAA;UACGI,OAAO,CAACC,GAAR,CAAYH,cAAA,CAASC,OAAT,EAAZ;UADH;UAAA,OAESR,cAAc,WAAd,CAAuB,UAACW,GAAD;YAAA,OAASF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAAT;UAAA,CAAvB,CAFT;;QAAA;UAE2D;UACxDF,OAAO,CAACC,GAAR,CAAYH,cAAA,CAASC,OAAT,EAAZ;UAHH;UAAA,OAISD,cAAA,CAASK,OAAT,GAAmBC,IAAnB,CAAwB,UAACC,GAAD;YAAA,OAASL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAT;UAAA,CAAxB,WAAyD,UAACH,GAAD;YAAA,OAASF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAAT;UAAA,CAAzD,CAJT;;QAAA;UAAA,eAKGF,OALH;UAAA;UAAA,OAKqBF,cAAA,CAASQ,OAAT,EALrB;;QAAA;UAAA;;UAAA,aAKWL,GALX;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAD"}},"mtime":1655135693913},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/utils/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _mongodb = require(\"mongodb\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar crypto = require('crypto');\n\nvar DBClient = /*#__PURE__*/function () {\n  function DBClient() {\n    var _this = this;\n\n    _classCallCheck(this, DBClient);\n\n    this.host = process.env.DB_HOST || 'localhost';\n    this.port = process.env.DB_PORT || 27017;\n    this.database = process.env.DB_DATABASE || 'files_manager';\n    (0, _mongodb.MongoClient)(\"mongodb://\".concat(this.host, \":\").concat(this.port), {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).connect().then(function (client) {\n      _this.client = client;\n      _this.db = _this.client.db(_this.dbName);\n    })[\"catch\"](function (err) {\n      console.error(err.message);\n    });\n  }\n\n  _createClass(DBClient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      if (this.db) return true;\n      return false;\n    }\n  }, {\n    key: \"nbUsers\",\n    value: function () {\n      var _nbUsers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var collection;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                collection = this.db.collection('users');\n                return _context.abrupt(\"return\", collection.countDocuments());\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function nbUsers() {\n        return _nbUsers.apply(this, arguments);\n      }\n\n      return nbUsers;\n    }()\n  }, {\n    key: \"nbFiles\",\n    value: function () {\n      var _nbFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var collection;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                collection = this.db.collection('files');\n                return _context2.abrupt(\"return\", collection.countDocuments());\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function nbFiles() {\n        return _nbFiles.apply(this, arguments);\n      }\n\n      return nbFiles;\n    }()\n  }, {\n    key: \"hashing\",\n    value: function () {\n      var _hashing = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(password) {\n        var hash, data, genHash;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                hash = crypto.createHash('sha1');\n                data = hash.update(password, 'utf-8');\n                genHash = data.digest('hex');\n                return _context3.abrupt(\"return\", genHash);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function hashing(_x) {\n        return _hashing.apply(this, arguments);\n      }\n\n      return hashing;\n    }()\n  }]);\n\n  return DBClient;\n}();\n\nvar dbClient = new DBClient();\nvar _default = dbClient;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcnlwdG8iLCJyZXF1aXJlIiwiREJDbGllbnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJwb3J0IiwiREJfUE9SVCIsImRhdGFiYXNlIiwiREJfREFUQUJBU0UiLCJNb25nb0NsaWVudCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3QiLCJ0aGVuIiwiY2xpZW50IiwiZGIiLCJkYk5hbWUiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29sbGVjdGlvbiIsImNvdW50RG9jdW1lbnRzIiwicGFzc3dvcmQiLCJoYXNoIiwiY3JlYXRlSGFzaCIsImRhdGEiLCJ1cGRhdGUiLCJnZW5IYXNoIiwiZGlnZXN0IiwiZGJDbGllbnQiXSwic291cmNlUm9vdCI6Ii9ob21lL3RyYW5zZm9ycy9BTFgvYWx4LWZpbGVzX21hbmFnZXIvdXRpbHMvIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5cbmNsYXNzIERCQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ob3N0ID0gcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnbG9jYWxob3N0JztcbiAgICB0aGlzLnBvcnQgPSBwcm9jZXNzLmVudi5EQl9QT1JUIHx8IDI3MDE3O1xuICAgIHRoaXMuZGF0YWJhc2UgPSBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSB8fCAnZmlsZXNfbWFuYWdlcic7XG4gICAgTW9uZ29DbGllbnQoYG1vbmdvZGI6Ly8ke3RoaXMuaG9zdH06JHt0aGlzLnBvcnR9YCwge1xuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgIH0pLmNvbm5lY3QoKS50aGVuKChjbGllbnQpID0+IHtcbiAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgdGhpcy5kYiA9IHRoaXMuY2xpZW50LmRiKHRoaXMuZGJOYW1lKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQWxpdmUoKSB7XG4gICAgaWYgKHRoaXMuZGIpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIG5iVXNlcnMoKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuZGIuY29sbGVjdGlvbigndXNlcnMnKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbi5jb3VudERvY3VtZW50cygpO1xuICB9XG5cbiAgYXN5bmMgbmJGaWxlcygpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5kYi5jb2xsZWN0aW9uKCdmaWxlcycpO1xuICAgIHJldHVybiBjb2xsZWN0aW9uLmNvdW50RG9jdW1lbnRzKCk7XG4gIH1cblxuICBhc3luYyBoYXNoaW5nKHBhc3N3b3JkKSB7XG4gICAgY29uc3QgaGFzaCA9IGNyeXB0by5jcmVhdGVIYXNoKCdzaGExJyk7XG4gICAgY29uc3QgZGF0YSA9IGhhc2gudXBkYXRlKHBhc3N3b3JkLCAndXRmLTgnKTtcbiAgICBjb25zdCBnZW5IYXNoID0gZGF0YS5kaWdlc3QoJ2hleCcpO1xuICAgIHJldHVybiBnZW5IYXNoO1xuICB9XG5cbn1cblxuY29uc3QgZGJDbGllbnQgPSBuZXcgREJDbGllbnQoKTtcblxuZXhwb3J0IGRlZmF1bHQgZGJDbGllbnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzsrQ0FDQSxvSjs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7SUFFTUMsUTtFQUNKLG9CQUFjO0lBQUE7O0lBQUE7O0lBQ1osS0FBS0MsSUFBTCxHQUFZQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsT0FBWixJQUF1QixXQUFuQztJQUNBLEtBQUtDLElBQUwsR0FBWUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLE9BQVosSUFBdUIsS0FBbkM7SUFDQSxLQUFLQyxRQUFMLEdBQWdCTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssV0FBWixJQUEyQixlQUEzQztJQUNBLElBQUFDLG9CQUFBLHNCQUF5QixLQUFLUixJQUE5QixjQUFzQyxLQUFLSSxJQUEzQyxHQUFtRDtNQUNqREssZUFBZSxFQUFFLElBRGdDO01BRWpEQyxrQkFBa0IsRUFBRTtJQUY2QixDQUFuRCxFQUdHQyxPQUhILEdBR2FDLElBSGIsQ0FHa0IsVUFBQ0MsTUFBRCxFQUFZO01BQzVCLEtBQUksQ0FBQ0EsTUFBTCxHQUFjQSxNQUFkO01BQ0EsS0FBSSxDQUFDQyxFQUFMLEdBQVUsS0FBSSxDQUFDRCxNQUFMLENBQVlDLEVBQVosQ0FBZSxLQUFJLENBQUNDLE1BQXBCLENBQVY7SUFDRCxDQU5ELFdBTVMsVUFBQ0MsR0FBRCxFQUFTO01BQ2hCQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBRyxDQUFDRyxPQUFsQjtJQUNELENBUkQ7RUFTRDs7OztXQUVELG1CQUFVO01BQ1IsSUFBSSxLQUFLTCxFQUFULEVBQWEsT0FBTyxJQUFQO01BQ2IsT0FBTyxLQUFQO0lBQ0Q7Ozs7Z0ZBRUQ7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNRTSxVQURSLEdBQ3FCLEtBQUtOLEVBQUwsQ0FBUU0sVUFBUixDQUFtQixPQUFuQixDQURyQjtnQkFBQSxpQ0FFU0EsVUFBVSxDQUFDQyxjQUFYLEVBRlQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7O2dGQUtBO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDUUQsVUFEUixHQUNxQixLQUFLTixFQUFMLENBQVFNLFVBQVIsQ0FBbUIsT0FBbkIsQ0FEckI7Z0JBQUEsa0NBRVNBLFVBQVUsQ0FBQ0MsY0FBWCxFQUZUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7OztnRkFLQSxrQkFBY0MsUUFBZDtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1FDLElBRFIsR0FDZTFCLE1BQU0sQ0FBQzJCLFVBQVAsQ0FBa0IsTUFBbEIsQ0FEZjtnQkFFUUMsSUFGUixHQUVlRixJQUFJLENBQUNHLE1BQUwsQ0FBWUosUUFBWixFQUFzQixPQUF0QixDQUZmO2dCQUdRSyxPQUhSLEdBR2tCRixJQUFJLENBQUNHLE1BQUwsQ0FBWSxLQUFaLENBSGxCO2dCQUFBLGtDQUlTRCxPQUpUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs7O0FBU0YsSUFBTUUsUUFBUSxHQUFHLElBQUk5QixRQUFKLEVBQWpCO2VBRWU4QixRIn0=","map":{"version":3,"names":["crypto","require","DBClient","host","process","env","DB_HOST","port","DB_PORT","database","DB_DATABASE","MongoClient","useNewUrlParser","useUnifiedTopology","connect","then","client","db","dbName","err","console","error","message","collection","countDocuments","password","hash","createHash","data","update","genHash","digest","dbClient"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/utils/","sources":["db.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\nconst crypto = require('crypto');\n\nclass DBClient {\n  constructor() {\n    this.host = process.env.DB_HOST || 'localhost';\n    this.port = process.env.DB_PORT || 27017;\n    this.database = process.env.DB_DATABASE || 'files_manager';\n    MongoClient(`mongodb://${this.host}:${this.port}`, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    }).connect().then((client) => {\n      this.client = client;\n      this.db = this.client.db(this.dbName);\n    }).catch((err) => {\n      console.error(err.message);\n    });\n  }\n\n  isAlive() {\n    if (this.db) return true;\n    return false;\n  }\n\n  async nbUsers() {\n    const collection = this.db.collection('users');\n    return collection.countDocuments();\n  }\n\n  async nbFiles() {\n    const collection = this.db.collection('files');\n    return collection.countDocuments();\n  }\n\n  async hashing(password) {\n    const hash = crypto.createHash('sha1');\n    const data = hash.update(password, 'utf-8');\n    const genHash = data.digest('hex');\n    return genHash;\n  }\n\n}\n\nconst dbClient = new DBClient();\n\nexport default dbClient;\n"],"mappings":";;;;;;;;;AAAA;;+CACA,oJ;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;IAEMC,Q;EACJ,oBAAc;IAAA;;IAAA;;IACZ,KAAKC,IAAL,GAAYC,OAAO,CAACC,GAAR,CAAYC,OAAZ,IAAuB,WAAnC;IACA,KAAKC,IAAL,GAAYH,OAAO,CAACC,GAAR,CAAYG,OAAZ,IAAuB,KAAnC;IACA,KAAKC,QAAL,GAAgBL,OAAO,CAACC,GAAR,CAAYK,WAAZ,IAA2B,eAA3C;IACA,IAAAC,oBAAA,sBAAyB,KAAKR,IAA9B,cAAsC,KAAKI,IAA3C,GAAmD;MACjDK,eAAe,EAAE,IADgC;MAEjDC,kBAAkB,EAAE;IAF6B,CAAnD,EAGGC,OAHH,GAGaC,IAHb,CAGkB,UAACC,MAAD,EAAY;MAC5B,KAAI,CAACA,MAAL,GAAcA,MAAd;MACA,KAAI,CAACC,EAAL,GAAU,KAAI,CAACD,MAAL,CAAYC,EAAZ,CAAe,KAAI,CAACC,MAApB,CAAV;IACD,CAND,WAMS,UAACC,GAAD,EAAS;MAChBC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB;IACD,CARD;EASD;;;;WAED,mBAAU;MACR,IAAI,KAAKL,EAAT,EAAa,OAAO,IAAP;MACb,OAAO,KAAP;IACD;;;;gFAED;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQM,UADR,GACqB,KAAKN,EAAL,CAAQM,UAAR,CAAmB,OAAnB,CADrB;gBAAA,iCAESA,UAAU,CAACC,cAAX,EAFT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;gFAKA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQD,UADR,GACqB,KAAKN,EAAL,CAAQM,UAAR,CAAmB,OAAnB,CADrB;gBAAA,kCAESA,UAAU,CAACC,cAAX,EAFT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;gFAKA,kBAAcC,QAAd;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,IADR,GACe1B,MAAM,CAAC2B,UAAP,CAAkB,MAAlB,CADf;gBAEQC,IAFR,GAEeF,IAAI,CAACG,MAAL,CAAYJ,QAAZ,EAAsB,OAAtB,CAFf;gBAGQK,OAHR,GAGkBF,IAAI,CAACG,MAAL,CAAY,KAAZ,CAHlB;gBAAA,kCAISD,OAJT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AASF,IAAME,QAAQ,GAAG,IAAI9B,QAAJ,EAAjB;eAEe8B,Q"}},"mtime":1655381933407},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/utils/db1.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('mongodb'),\n    MongoClient = _require.MongoClient;\n\nvar DBClient = /*#__PURE__*/function () {\n  function DBClient() {\n    var _this = this;\n\n    _classCallCheck(this, DBClient);\n\n    _defineProperty(this, \"db\", void 0);\n\n    this.host = process.env.DB_HOST || \"localhost\";\n    this.port = process.env.DB_PORT || 27017;\n    this.database = process.env.DB_DATABASE || \"test\";\n    this.uri = \"mongodb://\".concat(this.host, \":\").concat(this.port);\n    MongoClient(this.uri, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).connect().then(function (client) {\n      _this.client = client;\n      _this.db = _this.client.db(_this.database);\n    })[\"catch\"](function (err) {\n      console.error(err.messagee);\n    });\n  }\n\n  _createClass(DBClient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      if (this.db) return true;\n      return false;\n    }\n  }, {\n    key: \"nbUsers\",\n    value: function () {\n      var _nbUsers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var collection;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.db.collection('users');\n\n              case 2:\n                collection = _context.sent;\n                return _context.abrupt(\"return\", collection.countDocuments());\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function nbUsers() {\n        return _nbUsers.apply(this, arguments);\n      }\n\n      return nbUsers;\n    }()\n  }, {\n    key: \"nbFiles\",\n    value: function () {\n      var _nbFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var collection;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.db.collection('files');\n\n              case 2:\n                collection = _context2.sent;\n                return _context2.abrupt(\"return\", collection.countDocuments());\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function nbFiles() {\n        return _nbFiles.apply(this, arguments);\n      }\n\n      return nbFiles;\n    }()\n  }]);\n\n  return DBClient;\n}();\n\nvar dbClient = new DBClient();\nmodule.exports = dbClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9uZ29DbGllbnQiLCJEQkNsaWVudCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiREJfSE9TVCIsInBvcnQiLCJEQl9QT1JUIiwiZGF0YWJhc2UiLCJEQl9EQVRBQkFTRSIsInVyaSIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3QiLCJ0aGVuIiwiY2xpZW50IiwiZGIiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlZSIsImNvbGxlY3Rpb24iLCJjb3VudERvY3VtZW50cyIsImRiQ2xpZW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhbnNmb3JzL0FMWC9hbHgtZmlsZXNfbWFuYWdlci91dGlscy8iLCJzb3VyY2VzIjpbImRiMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vbmdvQ2xpZW50IH0gPSByZXF1aXJlKCdtb25nb2RiJyk7XG5jbGFzcyBEQkNsaWVudCB7XG4gIGRiO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhvc3QgPSBwcm9jZXNzLmVudi5EQl9IT1NUIHx8IFwibG9jYWxob3N0XCI7XG4gICAgdGhpcy5wb3J0ID0gcHJvY2Vzcy5lbnYuREJfUE9SVCB8fCAyNzAxN1xuICAgIHRoaXMuZGF0YWJhc2UgPSBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSB8fCBcInRlc3RcIjtcbiAgICBcbiAgICB0aGlzLnVyaSA9IGBtb25nb2RiOi8vJHt0aGlzLmhvc3R9OiR7dGhpcy5wb3J0fWA7XG4gICAgTW9uZ29DbGllbnQodGhpcy51cmksIHsgXG4gICAgICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG5cdCAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSlcbiAgICAgIC5jb25uZWN0KCkudGhlbigoY2xpZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuXHR0aGlzLmRiID0gdGhpcy5jbGllbnQuZGIodGhpcy5kYXRhYmFzZSk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2VlKTtcbiAgICAgIH0pO1xuICB9XG4gIFxuICBpc0FsaXZlKCkge1xuICAgIGlmICh0aGlzLmRiKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhc3luYyBuYlVzZXJzKCkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmRiLmNvbGxlY3Rpb24oJ3VzZXJzJyk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uY291bnREb2N1bWVudHMoKTtcbiAgfVxuXG4gYXN5bmMgbmJGaWxlcygpIHtcbiAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmRiLmNvbGxlY3Rpb24oJ2ZpbGVzJyk7XG4gICByZXR1cm4gY29sbGVjdGlvbi5jb3VudERvY3VtZW50cygpO1xuIH1cbn1cbmNvbnN0IGRiQ2xpZW50ID0gbmV3IERCQ2xpZW50O1xubW9kdWxlLmV4cG9ydHMgPSBkYkNsaWVudDtcbiJdLCJtYXBwaW5ncyI6Ijs7OzsrQ0FDQSxvSjs7Ozs7Ozs7Ozs7Ozs7QUFEQSxlQUF3QkEsT0FBTyxDQUFDLFNBQUQsQ0FBL0I7QUFBQSxJQUFRQyxXQUFSLFlBQVFBLFdBQVI7O0lBQ01DLFE7RUFFSixvQkFBYztJQUFBOztJQUFBOztJQUFBOztJQUNaLEtBQUtDLElBQUwsR0FBWUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVosSUFBdUIsV0FBbkM7SUFDQSxLQUFLQyxJQUFMLEdBQVlILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxPQUFaLElBQXVCLEtBQW5DO0lBQ0EsS0FBS0MsUUFBTCxHQUFnQkwsT0FBTyxDQUFDQyxHQUFSLENBQVlLLFdBQVosSUFBMkIsTUFBM0M7SUFFQSxLQUFLQyxHQUFMLHVCQUF3QixLQUFLUixJQUE3QixjQUFxQyxLQUFLSSxJQUExQztJQUNBTixXQUFXLENBQUMsS0FBS1UsR0FBTixFQUFXO01BQ2RDLGVBQWUsRUFBRSxJQURIO01BRXJCQyxrQkFBa0IsRUFBRTtJQUZDLENBQVgsQ0FBWCxDQUdHQyxPQUhILEdBR2FDLElBSGIsQ0FHa0IsVUFBQ0MsTUFBRCxFQUFZO01BQzFCLEtBQUksQ0FBQ0EsTUFBTCxHQUFjQSxNQUFkO01BQ1AsS0FBSSxDQUFDQyxFQUFMLEdBQVUsS0FBSSxDQUFDRCxNQUFMLENBQVlDLEVBQVosQ0FBZSxLQUFJLENBQUNSLFFBQXBCLENBQVY7SUFDTSxDQU5ILFdBTVcsVUFBQ1MsR0FBRCxFQUFTO01BQ2hCQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBRyxDQUFDRyxRQUFsQjtJQUNELENBUkg7RUFTRDs7OztXQUVELG1CQUFVO01BQ1IsSUFBSSxLQUFLSixFQUFULEVBQWEsT0FBTyxJQUFQO01BQ2IsT0FBTyxLQUFQO0lBQ0Q7Ozs7Z0ZBRUQ7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2dCQUFBLE9BQzJCLEtBQUtBLEVBQUwsQ0FBUUssVUFBUixDQUFtQixPQUFuQixDQUQzQjs7Y0FBQTtnQkFDUUEsVUFEUjtnQkFBQSxpQ0FFU0EsVUFBVSxDQUFDQyxjQUFYLEVBRlQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7O2dGQUtEO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtnQkFBQSxPQUMyQixLQUFLTixFQUFMLENBQVFLLFVBQVIsQ0FBbUIsT0FBbkIsQ0FEM0I7O2NBQUE7Z0JBQ1FBLFVBRFI7Z0JBQUEsa0NBRVNBLFVBQVUsQ0FBQ0MsY0FBWCxFQUZUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs7O0FBS0QsSUFBTUMsUUFBUSxHQUFHLElBQUl0QixRQUFKLEVBQWpCO0FBQ0F1QixNQUFNLENBQUNDLE9BQVAsR0FBaUJGLFFBQWpCIn0=","map":{"version":3,"names":["require","MongoClient","DBClient","host","process","env","DB_HOST","port","DB_PORT","database","DB_DATABASE","uri","useNewUrlParser","useUnifiedTopology","connect","then","client","db","err","console","error","messagee","collection","countDocuments","dbClient","module","exports"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/utils/","sources":["db1.js"],"sourcesContent":["const { MongoClient } = require('mongodb');\nclass DBClient {\n  db;\n  constructor() {\n    this.host = process.env.DB_HOST || \"localhost\";\n    this.port = process.env.DB_PORT || 27017\n    this.database = process.env.DB_DATABASE || \"test\";\n    \n    this.uri = `mongodb://${this.host}:${this.port}`;\n    MongoClient(this.uri, { \n            useNewUrlParser: true,\n\t    useUnifiedTopology: true })\n      .connect().then((client) => {\n        this.client = client;\n\tthis.db = this.client.db(this.database);\n      }).catch((err) => {\n        console.error(err.messagee);\n      });\n  }\n  \n  isAlive() {\n    if (this.db) return true;\n    return false;\n  }\n\n  async nbUsers() {\n    const collection = await this.db.collection('users');\n    return collection.countDocuments();\n  }\n\n async nbFiles() {\n   const collection = await this.db.collection('files');\n   return collection.countDocuments();\n }\n}\nconst dbClient = new DBClient;\nmodule.exports = dbClient;\n"],"mappings":";;;;+CACA,oJ;;;;;;;;;;;;;;AADA,eAAwBA,OAAO,CAAC,SAAD,CAA/B;AAAA,IAAQC,WAAR,YAAQA,WAAR;;IACMC,Q;EAEJ,oBAAc;IAAA;;IAAA;;IAAA;;IACZ,KAAKC,IAAL,GAAYC,OAAO,CAACC,GAAR,CAAYC,OAAZ,IAAuB,WAAnC;IACA,KAAKC,IAAL,GAAYH,OAAO,CAACC,GAAR,CAAYG,OAAZ,IAAuB,KAAnC;IACA,KAAKC,QAAL,GAAgBL,OAAO,CAACC,GAAR,CAAYK,WAAZ,IAA2B,MAA3C;IAEA,KAAKC,GAAL,uBAAwB,KAAKR,IAA7B,cAAqC,KAAKI,IAA1C;IACAN,WAAW,CAAC,KAAKU,GAAN,EAAW;MACdC,eAAe,EAAE,IADH;MAErBC,kBAAkB,EAAE;IAFC,CAAX,CAAX,CAGGC,OAHH,GAGaC,IAHb,CAGkB,UAACC,MAAD,EAAY;MAC1B,KAAI,CAACA,MAAL,GAAcA,MAAd;MACP,KAAI,CAACC,EAAL,GAAU,KAAI,CAACD,MAAL,CAAYC,EAAZ,CAAe,KAAI,CAACR,QAApB,CAAV;IACM,CANH,WAMW,UAACS,GAAD,EAAS;MAChBC,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,QAAlB;IACD,CARH;EASD;;;;WAED,mBAAU;MACR,IAAI,KAAKJ,EAAT,EAAa,OAAO,IAAP;MACb,OAAO,KAAP;IACD;;;;gFAED;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAC2B,KAAKA,EAAL,CAAQK,UAAR,CAAmB,OAAnB,CAD3B;;cAAA;gBACQA,UADR;gBAAA,iCAESA,UAAU,CAACC,cAAX,EAFT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;gFAKD;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAC2B,KAAKN,EAAL,CAAQK,UAAR,CAAmB,OAAnB,CAD3B;;cAAA;gBACQA,UADR;gBAAA,kCAESA,UAAU,CAACC,cAAX,EAFT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AAKD,IAAMC,QAAQ,GAAG,IAAItB,QAAJ,EAAjB;AACAuB,MAAM,CAACC,OAAP,GAAiBF,QAAjB"}},"mtime":1655135606025},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _index = _interopRequireDefault(require(\"./routes/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])();\nvar port = process.env.PORT || 5000;\napp.use(_express[\"default\"].json());\napp.use(_index[\"default\"]);\napp.listen(port, function () {\n  console.log(\"app running on port \".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwidXNlIiwianNvbiIsInJvdXRlcyIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6Ii9ob21lL3RyYW5zZm9ycy9BTFgvYWx4LWZpbGVzX21hbmFnZXIvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzL2luZGV4JztcblxuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwXG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShyb3V0ZXMpO1xuXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgY29uc29sZS5sb2coYGFwcCBydW5uaW5nIG9uIHBvcnQgJHtwb3J0fWApO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7QUFHQSxJQUFNQSxHQUFHLEdBQUcsSUFBQUMsbUJBQUEsR0FBWjtBQUNBLElBQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakM7QUFFQUwsR0FBRyxDQUFDTSxHQUFKLENBQVFMLG1CQUFBLENBQVFNLElBQVIsRUFBUjtBQUNBUCxHQUFHLENBQUNNLEdBQUosQ0FBUUUsaUJBQVI7QUFFQVIsR0FBRyxDQUFDUyxNQUFKLENBQVdQLElBQVgsRUFBaUIsWUFBTTtFQUNyQlEsT0FBTyxDQUFDQyxHQUFSLCtCQUFtQ1QsSUFBbkM7QUFDRCxDQUZEIn0=","map":{"version":3,"names":["app","express","port","process","env","PORT","use","json","routes","listen","console","log"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport routes from './routes/index';\n\n\nconst app = express();\nconst port = process.env.PORT || 5000\n\napp.use(express.json());\napp.use(routes);\n\napp.listen(port, () => {\n  console.log(`app running on port ${port}`);\n});\n"],"mappings":";;AAAA;;AACA;;;;AAGA,IAAMA,GAAG,GAAG,IAAAC,mBAAA,GAAZ;AACA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEAL,GAAG,CAACM,GAAJ,CAAQL,mBAAA,CAAQM,IAAR,EAAR;AACAP,GAAG,CAACM,GAAJ,CAAQE,iBAAR;AAEAR,GAAG,CAACS,MAAJ,CAAWP,IAAX,EAAiB,YAAM;EACrBQ,OAAO,CAACC,GAAR,+BAAmCT,IAAnC;AACD,CAFD"}},"mtime":1655202041454},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = require(\"express\");\n\nvar _AppController = _interopRequireDefault(require(\"../controllers/AppController\"));\n\nvar _UsersController = _interopRequireDefault(require(\"../controllers/UsersController\"));\n\nvar _AuthController = _interopRequireDefault(require(\"../controllers/AuthController\"));\n\nvar _FilesController = _interopRequireDefault(require(\"../controllers/FilesController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = (0, _express.Router)();\nrouter.get('/status', _AppController[\"default\"].getStatus);\nrouter.get('/stats', _AppController[\"default\"].getStats);\nrouter.post('/users', _UsersController[\"default\"].postNew);\nrouter.get('/connect', _AuthController[\"default\"].getConnect);\nrouter.get('/disconnect', _AuthController[\"default\"].getDisconnect);\nrouter.get('/users/me', _UsersController[\"default\"].getMe);\nrouter.post('/files', _FilesController[\"default\"].postUpload);\nrouter.get('/files/:id', _FilesController[\"default\"].getShow);\nrouter.get('/files', _FilesController[\"default\"].getIndex);\nrouter.put('/files/:id/publish', _FilesController[\"default\"].putPublish);\nrouter.put('/files/:id/unpublish', _FilesController[\"default\"].putUnpublish);\nrouter.get('/files/:id/data', _FilesController[\"default\"].getFile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJBcHBDb250cm9sbGVyIiwiZ2V0U3RhdHVzIiwiZ2V0U3RhdHMiLCJwb3N0IiwiVXNlcnNDb250cm9sbGVyIiwicG9zdE5ldyIsIkF1dGhDb250cm9sbGVyIiwiZ2V0Q29ubmVjdCIsImdldERpc2Nvbm5lY3QiLCJnZXRNZSIsIkZpbGVzQ29udHJvbGxlciIsInBvc3RVcGxvYWQiLCJnZXRTaG93IiwiZ2V0SW5kZXgiLCJwdXQiLCJwdXRQdWJsaXNoIiwicHV0VW5wdWJsaXNoIiwiZ2V0RmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3RyYW5zZm9ycy9BTFgvYWx4LWZpbGVzX21hbmFnZXIvcm91dGVzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgQXBwQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9BcHBDb250cm9sbGVyJztcbmltcG9ydCBVc2Vyc0NvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlcnNDb250cm9sbGVyJztcbmltcG9ydCBBdXRoQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9BdXRoQ29udHJvbGxlcic7XG5pbXBvcnQgRmlsZXNDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0ZpbGVzQ29udHJvbGxlcic7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KCcvc3RhdHVzJywgQXBwQ29udHJvbGxlci5nZXRTdGF0dXMpOyBcbnJvdXRlci5nZXQoJy9zdGF0cycsIEFwcENvbnRyb2xsZXIuZ2V0U3RhdHMpO1xucm91dGVyLnBvc3QoJy91c2VycycsIFVzZXJzQ29udHJvbGxlci5wb3N0TmV3KTtcbnJvdXRlci5nZXQoJy9jb25uZWN0JywgQXV0aENvbnRyb2xsZXIuZ2V0Q29ubmVjdCk7XG5yb3V0ZXIuZ2V0KCcvZGlzY29ubmVjdCcsIEF1dGhDb250cm9sbGVyLmdldERpc2Nvbm5lY3QpO1xucm91dGVyLmdldCgnL3VzZXJzL21lJywgVXNlcnNDb250cm9sbGVyLmdldE1lKTtcbnJvdXRlci5wb3N0KCcvZmlsZXMnLCBGaWxlc0NvbnRyb2xsZXIucG9zdFVwbG9hZCk7XG5yb3V0ZXIuZ2V0KCcvZmlsZXMvOmlkJywgRmlsZXNDb250cm9sbGVyLmdldFNob3cpO1xucm91dGVyLmdldCgnL2ZpbGVzJywgRmlsZXNDb250cm9sbGVyLmdldEluZGV4KTtcbnJvdXRlci5wdXQoJy9maWxlcy86aWQvcHVibGlzaCcsIEZpbGVzQ29udHJvbGxlci5wdXRQdWJsaXNoKTtcbnJvdXRlci5wdXQoJy9maWxlcy86aWQvdW5wdWJsaXNoJywgRmlsZXNDb250cm9sbGVyLnB1dFVucHVibGlzaCk7XG5yb3V0ZXIuZ2V0KCcvZmlsZXMvOmlkL2RhdGEnLCBGaWxlc0NvbnRyb2xsZXIuZ2V0RmlsZSk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBRUFELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFNBQVgsRUFBc0JDLHlCQUFBLENBQWNDLFNBQXBDO0FBQ0FKLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFFBQVgsRUFBcUJDLHlCQUFBLENBQWNFLFFBQW5DO0FBQ0FMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFFBQVosRUFBc0JDLDJCQUFBLENBQWdCQyxPQUF0QztBQUNBUixNQUFNLENBQUNFLEdBQVAsQ0FBVyxVQUFYLEVBQXVCTywwQkFBQSxDQUFlQyxVQUF0QztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBVyxhQUFYLEVBQTBCTywwQkFBQSxDQUFlRSxhQUF6QztBQUNBWCxNQUFNLENBQUNFLEdBQVAsQ0FBVyxXQUFYLEVBQXdCSywyQkFBQSxDQUFnQkssS0FBeEM7QUFDQVosTUFBTSxDQUFDTSxJQUFQLENBQVksUUFBWixFQUFzQk8sMkJBQUEsQ0FBZ0JDLFVBQXRDO0FBQ0FkLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUJXLDJCQUFBLENBQWdCRSxPQUF6QztBQUNBZixNQUFNLENBQUNFLEdBQVAsQ0FBVyxRQUFYLEVBQXFCVywyQkFBQSxDQUFnQkcsUUFBckM7QUFDQWhCLE1BQU0sQ0FBQ2lCLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQ0osMkJBQUEsQ0FBZ0JLLFVBQWpEO0FBQ0FsQixNQUFNLENBQUNpQixHQUFQLENBQVcsc0JBQVgsRUFBbUNKLDJCQUFBLENBQWdCTSxZQUFuRDtBQUNBbkIsTUFBTSxDQUFDRSxHQUFQLENBQVcsaUJBQVgsRUFBOEJXLDJCQUFBLENBQWdCTyxPQUE5QztBQUdBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ0QixNQUFqQiJ9","map":{"version":3,"names":["router","Router","get","AppController","getStatus","getStats","post","UsersController","postNew","AuthController","getConnect","getDisconnect","getMe","FilesController","postUpload","getShow","getIndex","put","putPublish","putUnpublish","getFile","module","exports"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/routes/","sources":["index.js"],"sourcesContent":["import { Router } from 'express';\nimport AppController from '../controllers/AppController';\nimport UsersController from '../controllers/UsersController';\nimport AuthController from '../controllers/AuthController';\nimport FilesController from '../controllers/FilesController';\n\nconst router = Router();\n\nrouter.get('/status', AppController.getStatus); \nrouter.get('/stats', AppController.getStats);\nrouter.post('/users', UsersController.postNew);\nrouter.get('/connect', AuthController.getConnect);\nrouter.get('/disconnect', AuthController.getDisconnect);\nrouter.get('/users/me', UsersController.getMe);\nrouter.post('/files', FilesController.postUpload);\nrouter.get('/files/:id', FilesController.getShow);\nrouter.get('/files', FilesController.getIndex);\nrouter.put('/files/:id/publish', FilesController.putPublish);\nrouter.put('/files/:id/unpublish', FilesController.putUnpublish);\nrouter.get('/files/:id/data', FilesController.getFile);\n\n\nmodule.exports = router;\n"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AAEAD,MAAM,CAACE,GAAP,CAAW,SAAX,EAAsBC,yBAAA,CAAcC,SAApC;AACAJ,MAAM,CAACE,GAAP,CAAW,QAAX,EAAqBC,yBAAA,CAAcE,QAAnC;AACAL,MAAM,CAACM,IAAP,CAAY,QAAZ,EAAsBC,2BAAA,CAAgBC,OAAtC;AACAR,MAAM,CAACE,GAAP,CAAW,UAAX,EAAuBO,0BAAA,CAAeC,UAAtC;AACAV,MAAM,CAACE,GAAP,CAAW,aAAX,EAA0BO,0BAAA,CAAeE,aAAzC;AACAX,MAAM,CAACE,GAAP,CAAW,WAAX,EAAwBK,2BAAA,CAAgBK,KAAxC;AACAZ,MAAM,CAACM,IAAP,CAAY,QAAZ,EAAsBO,2BAAA,CAAgBC,UAAtC;AACAd,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyBW,2BAAA,CAAgBE,OAAzC;AACAf,MAAM,CAACE,GAAP,CAAW,QAAX,EAAqBW,2BAAA,CAAgBG,QAArC;AACAhB,MAAM,CAACiB,GAAP,CAAW,oBAAX,EAAiCJ,2BAAA,CAAgBK,UAAjD;AACAlB,MAAM,CAACiB,GAAP,CAAW,sBAAX,EAAmCJ,2BAAA,CAAgBM,YAAnD;AACAnB,MAAM,CAACE,GAAP,CAAW,iBAAX,EAA8BW,2BAAA,CAAgBO,OAA9C;AAGAC,MAAM,CAACC,OAAP,GAAiBtB,MAAjB"}},"mtime":1655415275752},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/controllers/AppController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _redis = _interopRequireDefault(require(\"../utils/redis\"));\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nexports.getStatus = function (req, res) {\n  var rStatus = _redis[\"default\"].isAlive();\n\n  var dbStatus = _db[\"default\"].isAlive();\n\n  res.status(200).json({\n    \"redis\": \"\".concat(rStatus),\n    \"db\": \"\".concat(dbStatus)\n  });\n};\n\nexports.getStats = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var users, files;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!_db[\"default\"].isAlive()) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 3;\n            return _db[\"default\"].nbUsers();\n\n          case 3:\n            users = _context.sent;\n            _context.next = 6;\n            return _db[\"default\"].nbFiles();\n\n          case 6:\n            files = _context.sent;\n            res.status(200).json({\n              \"users\": \"\".concat(users),\n              \"files\": \"\".concat(files)\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiZ2V0U3RhdHVzIiwicmVxIiwicmVzIiwiclN0YXR1cyIsInJlZGlzQ2xpZW50IiwiaXNBbGl2ZSIsImRiU3RhdHVzIiwiZGJDbGllbnQiLCJzdGF0dXMiLCJqc29uIiwiZ2V0U3RhdHMiLCJuYlVzZXJzIiwidXNlcnMiLCJuYkZpbGVzIiwiZmlsZXMiXSwic291cmNlUm9vdCI6Ii9ob21lL3RyYW5zZm9ycy9BTFgvYWx4LWZpbGVzX21hbmFnZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJBcHBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWRpc0NsaWVudCBmcm9tICcuLi91dGlscy9yZWRpcyc7XG5pbXBvcnQgZGJDbGllbnQgZnJvbSAnLi4vdXRpbHMvZGInO1xuXG5leHBvcnRzLmdldFN0YXR1cyA9IChyZXEsIHJlcykgPT4ge1xuICBjb25zdCByU3RhdHVzID0gcmVkaXNDbGllbnQuaXNBbGl2ZSgpO1xuICBjb25zdCBkYlN0YXR1cyA9IGRiQ2xpZW50LmlzQWxpdmUoKTtcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oe1wicmVkaXNcIjogYCR7clN0YXR1c31gLFxuXHQgICAgICAgICAgICAgICAgXCJkYlwiOiBgJHtkYlN0YXR1c31gfSk7XG59O1xuXG5leHBvcnRzLmdldFN0YXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGlmIChkYkNsaWVudC5pc0FsaXZlKCkpIHtcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IGRiQ2xpZW50Lm5iVXNlcnMoKTtcbiAgICBjb25zdCBmaWxlcyA9IGF3YWl0IGRiQ2xpZW50Lm5iRmlsZXMoKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XCJ1c2Vyc1wiOiBgJHt1c2Vyc31gLCBcImZpbGVzXCI6IGAke2ZpbGVzfWB9KTtcbiAgfVxufTtcblxuXG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7OzsrQ0FBQSxvSjs7Ozs7O0FBRUFBLE9BQU8sQ0FBQ0MsU0FBUixHQUFvQixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztFQUNoQyxJQUFNQyxPQUFPLEdBQUdDLGlCQUFBLENBQVlDLE9BQVosRUFBaEI7O0VBQ0EsSUFBTUMsUUFBUSxHQUFHQyxjQUFBLENBQVNGLE9BQVQsRUFBakI7O0VBQ0FILEdBQUcsQ0FBQ00sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0lBQUMsbUJBQVlOLE9BQVosQ0FBRDtJQUNOLGdCQUFTRyxRQUFUO0VBRE0sQ0FBckI7QUFFRCxDQUxEOztBQU9BUCxPQUFPLENBQUNXLFFBQVI7RUFBQSxzRUFBbUIsaUJBQU9ULEdBQVAsRUFBWUMsR0FBWjtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQSxLQUNiSyxjQUFBLENBQVNGLE9BQVQsRUFEYTtjQUFBO2NBQUE7WUFBQTs7WUFBQTtZQUFBLE9BRUtFLGNBQUEsQ0FBU0ksT0FBVCxFQUZMOztVQUFBO1lBRVRDLEtBRlM7WUFBQTtZQUFBLE9BR0tMLGNBQUEsQ0FBU00sT0FBVCxFQUhMOztVQUFBO1lBR1RDLEtBSFM7WUFJZlosR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7Y0FBQyxtQkFBWUcsS0FBWixDQUFEO2NBQXNCLG1CQUFZRSxLQUFaO1lBQXRCLENBQXJCOztVQUplO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQW5COztFQUFBO0lBQUE7RUFBQTtBQUFBIn0=","map":{"version":3,"names":["exports","getStatus","req","res","rStatus","redisClient","isAlive","dbStatus","dbClient","status","json","getStats","nbUsers","users","nbFiles","files"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/controllers/","sources":["AppController.js"],"sourcesContent":["import redisClient from '../utils/redis';\nimport dbClient from '../utils/db';\n\nexports.getStatus = (req, res) => {\n  const rStatus = redisClient.isAlive();\n  const dbStatus = dbClient.isAlive();\n  res.status(200).json({\"redis\": `${rStatus}`,\n\t                \"db\": `${dbStatus}`});\n};\n\nexports.getStats = async (req, res) => {\n  if (dbClient.isAlive()) {\n    const users = await dbClient.nbUsers();\n    const files = await dbClient.nbFiles();\n    res.status(200).json({\"users\": `${users}`, \"files\": `${files}`});\n  }\n};\n\n\n"],"mappings":";;;;AAAA;;AACA;;;;+CAAA,oJ;;;;;;AAEAA,OAAO,CAACC,SAAR,GAAoB,UAACC,GAAD,EAAMC,GAAN,EAAc;EAChC,IAAMC,OAAO,GAAGC,iBAAA,CAAYC,OAAZ,EAAhB;;EACA,IAAMC,QAAQ,GAAGC,cAAA,CAASF,OAAT,EAAjB;;EACAH,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;IAAC,mBAAYN,OAAZ,CAAD;IACN,gBAASG,QAAT;EADM,CAArB;AAED,CALD;;AAOAP,OAAO,CAACW,QAAR;EAAA,sEAAmB,iBAAOT,GAAP,EAAYC,GAAZ;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,KACbK,cAAA,CAASF,OAAT,EADa;cAAA;cAAA;YAAA;;YAAA;YAAA,OAEKE,cAAA,CAASI,OAAT,EAFL;;UAAA;YAETC,KAFS;YAAA;YAAA,OAGKL,cAAA,CAASM,OAAT,EAHL;;UAAA;YAGTC,KAHS;YAIfZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;cAAC,mBAAYG,KAAZ,CAAD;cAAsB,mBAAYE,KAAZ;YAAtB,CAArB;;UAJe;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAnB;;EAAA;IAAA;EAAA;AAAA"}},"mtime":1655202262185},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/controllers/UsersController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nvar _redis = _interopRequireDefault(require(\"../utils/redis\"));\n\nvar _mongodb = require(\"mongodb\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nexports.postNew = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var email, password, db, user, passHash, userObj, newUser;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            email = req.body.email;\n\n            if (email) {\n              _context.next = 4;\n              break;\n            }\n\n            res.status(400).json({\n              error: \"Missing email\"\n            });\n            return _context.abrupt(\"return\");\n\n          case 4:\n            password = req.body.password;\n\n            if (password) {\n              _context.next = 8;\n              break;\n            }\n\n            res.status(400).json({\n              error: \"Missing password\"\n            });\n            return _context.abrupt(\"return\");\n\n          case 8:\n            if (!_db[\"default\"].isAlive()) {\n              _context.next = 24;\n              break;\n            }\n\n            db = _db[\"default\"].db.collection('users');\n            _context.next = 12;\n            return db.findOne({\n              email: email\n            });\n\n          case 12:\n            user = _context.sent;\n\n            if (!user) {\n              _context.next = 16;\n              break;\n            }\n\n            res.status(400).json({\n              error: \"Alreay exist\"\n            });\n            return _context.abrupt(\"return\");\n\n          case 16:\n            _context.next = 18;\n            return _db[\"default\"].hashing(password);\n\n          case 18:\n            passHash = _context.sent;\n            userObj = {\n              email: email,\n              password: passHash\n            };\n            _context.next = 22;\n            return db.insertOne(userObj);\n\n          case 22:\n            newUser = _context.sent;\n            res.status(201).json({\n              id: newUser.insertedId,\n              email: email\n            });\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.getMe = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var authHeader, key, userId, db, user;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            authHeader = req.get('X-Token');\n\n            if (authHeader) {\n              _context2.next = 4;\n              break;\n            }\n\n            res.status(401).json({\n              error: \"Unauthorized\"\n            });\n            return _context2.abrupt(\"return\");\n\n          case 4:\n            if (!(_redis[\"default\"].isAlive() && _db[\"default\"].isAlive())) {\n              _context2.next = 22;\n              break;\n            }\n\n            key = \"auth_\".concat(authHeader);\n            _context2.next = 8;\n            return _redis[\"default\"].get(key);\n\n          case 8:\n            userId = _context2.sent;\n\n            if (userId) {\n              _context2.next = 12;\n              break;\n            }\n\n            res.status(401).json({\n              error: 'Aauthorized'\n            });\n            return _context2.abrupt(\"return\");\n\n          case 12:\n            db = _db[\"default\"].db.collection('users');\n            _context2.next = 15;\n            return db.findOne({\n              _id: (0, _mongodb.ObjectId)(userId)\n            });\n\n          case 15:\n            user = _context2.sent;\n\n            if (!user) {\n              _context2.next = 20;\n              break;\n            }\n\n            res.status(200).json({\n              id: userId,\n              email: user.email\n            });\n            _context2.next = 22;\n            break;\n\n          case 20:\n            res.status(401).json({\n              error: 'Unauthorized'\n            });\n            return _context2.abrupt(\"return\");\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwicG9zdE5ldyIsInJlcSIsInJlcyIsImVtYWlsIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInBhc3N3b3JkIiwiZGJDbGllbnQiLCJpc0FsaXZlIiwiZGIiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInVzZXIiLCJoYXNoaW5nIiwicGFzc0hhc2giLCJ1c2VyT2JqIiwiaW5zZXJ0T25lIiwibmV3VXNlciIsImlkIiwiaW5zZXJ0ZWRJZCIsImdldE1lIiwiYXV0aEhlYWRlciIsImdldCIsInJlZGlzQ2xpZW50Iiwia2V5IiwidXNlcklkIiwiX2lkIiwiT2JqZWN0SWQiXSwic291cmNlUm9vdCI6Ii9ob21lL3RyYW5zZm9ycy9BTFgvYWx4LWZpbGVzX21hbmFnZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2Vyc0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRiQ2xpZW50IGZyb20gJy4uL3V0aWxzL2RiJztcbmltcG9ydCByZWRpc0NsaWVudCBmcm9tICcuLi91dGlscy9yZWRpcyc7XG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xuXG5leHBvcnRzLnBvc3ROZXcgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcbiAgaWYgKCFlbWFpbCkge1xuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogXCJNaXNzaW5nIGVtYWlsXCJ9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcbiAgaWYgKCFwYXNzd29yZCkge1xuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogXCJNaXNzaW5nIHBhc3N3b3JkXCJ9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGRiQ2xpZW50LmlzQWxpdmUoKSkge1xuICAgIGNvbnN0IGRiID0gZGJDbGllbnQuZGIuY29sbGVjdGlvbigndXNlcnMnKTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuZmluZE9uZSh7IGVtYWlsIH0gKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2Vycm9yOiBcIkFscmVheSBleGlzdFwifSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhc3NIYXNoID0gYXdhaXQgZGJDbGllbnQuaGFzaGluZyhwYXNzd29yZCk7XG4gICAgY29uc3QgdXNlck9iaiA9IHtlbWFpbCwgcGFzc3dvcmQ6IHBhc3NIYXNofTtcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgZGIuaW5zZXJ0T25lKHVzZXJPYmopO1xuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtpZDogbmV3VXNlci5pbnNlcnRlZElkLCBlbWFpbH0pO1xuICB9XG59XG5cbmV4cG9ydHMuZ2V0TWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5nZXQoJ1gtVG9rZW4nKTtcbiAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oe2Vycm9yOiBcIlVuYXV0aG9yaXplZFwifSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChyZWRpc0NsaWVudC5pc0FsaXZlKCkgJiYgZGJDbGllbnQuaXNBbGl2ZSgpKSB7XG4gICAgY29uc3Qga2V5ID0gYGF1dGhfJHthdXRoSGVhZGVyfWA7XG4gICAgY29uc3QgdXNlcklkID0gYXdhaXQgcmVkaXNDbGllbnQuZ2V0KGtleSk7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtlcnJvcjogJ0FhdXRob3JpemVkJ30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYiA9IGRiQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ3VzZXJzJyk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLmZpbmRPbmUoe19pZDogT2JqZWN0SWQodXNlcklkKSx9KTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe2lkOiB1c2VySWQsIGVtYWlsOiB1c2VyLmVtYWlsLH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7ZXJyb3I6ICdVbmF1dGhvcml6ZWQnfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OzsrQ0FEQSxvSjs7Ozs7O0FBR0FBLE9BQU8sQ0FBQ0MsT0FBUjtFQUFBLHNFQUFrQixpQkFBT0MsR0FBUCxFQUFZQyxHQUFaO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNWQyxLQURVLEdBQ0ZGLEdBQUcsQ0FBQ0csSUFBSixDQUFTRCxLQURQOztZQUFBLElBRVhBLEtBRlc7Y0FBQTtjQUFBO1lBQUE7O1lBR2RELEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2NBQUNDLEtBQUssRUFBRTtZQUFSLENBQXJCO1lBSGM7O1VBQUE7WUFNVkMsUUFOVSxHQU1DUCxHQUFHLENBQUNHLElBQUosQ0FBU0ksUUFOVjs7WUFBQSxJQU9YQSxRQVBXO2NBQUE7Y0FBQTtZQUFBOztZQVFkTixHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtjQUFDQyxLQUFLLEVBQUU7WUFBUixDQUFyQjtZQVJjOztVQUFBO1lBQUEsS0FXWkUsY0FBQSxDQUFTQyxPQUFULEVBWFk7Y0FBQTtjQUFBO1lBQUE7O1lBWVJDLEVBWlEsR0FZSEYsY0FBQSxDQUFTRSxFQUFULENBQVlDLFVBQVosQ0FBdUIsT0FBdkIsQ0FaRztZQUFBO1lBQUEsT0FhS0QsRUFBRSxDQUFDRSxPQUFILENBQVc7Y0FBRVYsS0FBSyxFQUFMQTtZQUFGLENBQVgsQ0FiTDs7VUFBQTtZQWFSVyxJQWJROztZQUFBLEtBY1ZBLElBZFU7Y0FBQTtjQUFBO1lBQUE7O1lBZVpaLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2NBQUNDLEtBQUssRUFBRTtZQUFSLENBQXJCO1lBZlk7O1VBQUE7WUFBQTtZQUFBLE9Ba0JTRSxjQUFBLENBQVNNLE9BQVQsQ0FBaUJQLFFBQWpCLENBbEJUOztVQUFBO1lBa0JSUSxRQWxCUTtZQW1CUkMsT0FuQlEsR0FtQkU7Y0FBQ2QsS0FBSyxFQUFMQSxLQUFEO2NBQVFLLFFBQVEsRUFBRVE7WUFBbEIsQ0FuQkY7WUFBQTtZQUFBLE9Bb0JRTCxFQUFFLENBQUNPLFNBQUgsQ0FBYUQsT0FBYixDQXBCUjs7VUFBQTtZQW9CUkUsT0FwQlE7WUFxQmRqQixHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtjQUFDYyxFQUFFLEVBQUVELE9BQU8sQ0FBQ0UsVUFBYjtjQUF5QmxCLEtBQUssRUFBTEE7WUFBekIsQ0FBckI7O1VBckJjO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQWxCOztFQUFBO0lBQUE7RUFBQTtBQUFBOztBQXlCQUosT0FBTyxDQUFDdUIsS0FBUjtFQUFBLHVFQUFnQixrQkFBT3JCLEdBQVAsRUFBWUMsR0FBWjtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDUnFCLFVBRFEsR0FDS3RCLEdBQUcsQ0FBQ3VCLEdBQUosQ0FBUSxTQUFSLENBREw7O1lBQUEsSUFFVEQsVUFGUztjQUFBO2NBQUE7WUFBQTs7WUFHWnJCLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2NBQUNDLEtBQUssRUFBRTtZQUFSLENBQXJCO1lBSFk7O1VBQUE7WUFBQSxNQU1Wa0IsaUJBQUEsQ0FBWWYsT0FBWixNQUF5QkQsY0FBQSxDQUFTQyxPQUFULEVBTmY7Y0FBQTtjQUFBO1lBQUE7O1lBT05nQixHQVBNLGtCQU9RSCxVQVBSO1lBQUE7WUFBQSxPQVFTRSxpQkFBQSxDQUFZRCxHQUFaLENBQWdCRSxHQUFoQixDQVJUOztVQUFBO1lBUU5DLE1BUk07O1lBQUEsSUFTUEEsTUFUTztjQUFBO2NBQUE7WUFBQTs7WUFVVnpCLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2NBQUNDLEtBQUssRUFBRTtZQUFSLENBQXJCO1lBVlU7O1VBQUE7WUFhTkksRUFiTSxHQWFERixjQUFBLENBQVNFLEVBQVQsQ0FBWUMsVUFBWixDQUF1QixPQUF2QixDQWJDO1lBQUE7WUFBQSxPQWNPRCxFQUFFLENBQUNFLE9BQUgsQ0FBVztjQUFDZSxHQUFHLEVBQUUsSUFBQUMsaUJBQUEsRUFBU0YsTUFBVDtZQUFOLENBQVgsQ0FkUDs7VUFBQTtZQWNOYixJQWRNOztZQUFBLEtBZVJBLElBZlE7Y0FBQTtjQUFBO1lBQUE7O1lBZ0JWWixHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtjQUFDYyxFQUFFLEVBQUVPLE1BQUw7Y0FBYXhCLEtBQUssRUFBRVcsSUFBSSxDQUFDWDtZQUF6QixDQUFyQjtZQWhCVTtZQUFBOztVQUFBO1lBa0JWRCxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtjQUFDQyxLQUFLLEVBQUU7WUFBUixDQUFyQjtZQWxCVTs7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFoQjs7RUFBQTtJQUFBO0VBQUE7QUFBQSJ9","map":{"version":3,"names":["exports","postNew","req","res","email","body","status","json","error","password","dbClient","isAlive","db","collection","findOne","user","hashing","passHash","userObj","insertOne","newUser","id","insertedId","getMe","authHeader","get","redisClient","key","userId","_id","ObjectId"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/controllers/","sources":["UsersController.js"],"sourcesContent":["import dbClient from '../utils/db';\nimport redisClient from '../utils/redis';\nimport { ObjectId } from 'mongodb';\n\nexports.postNew = async (req, res) => {\n  const email = req.body.email;\n  if (!email) {\n    res.status(400).json({error: \"Missing email\"});\n    return;\n  }\n  const password = req.body.password;\n  if (!password) {\n    res.status(400).json({error: \"Missing password\"});\n    return;\n  }\n  if (dbClient.isAlive()) {\n    const db = dbClient.db.collection('users');\n    const user = await db.findOne({ email } );\n    if (user) {\n      res.status(400).json({error: \"Alreay exist\"});\n      return;\n    }\n    const passHash = await dbClient.hashing(password);\n    const userObj = {email, password: passHash};\n    const newUser = await db.insertOne(userObj);\n    res.status(201).json({id: newUser.insertedId, email});\n  }\n}\n\nexports.getMe = async (req, res) => {\n  const authHeader = req.get('X-Token');\n  if (!authHeader) {\n    res.status(401).json({error: \"Unauthorized\"});\n    return;\n  }\n  if (redisClient.isAlive() && dbClient.isAlive()) {\n    const key = `auth_${authHeader}`;\n    const userId = await redisClient.get(key);\n    if (!userId) {\n      res.status(401).json({error: 'Aauthorized'});\n      return;\n    }\n    const db = dbClient.db.collection('users');\n    const user = await db.findOne({_id: ObjectId(userId),});\n    if (user) {\n      res.status(200).json({id: userId, email: user.email,});\n    } else {\n      res.status(401).json({error: 'Unauthorized'});\n      return;\n    }\n  }\n}\n"],"mappings":"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"}},"mtime":1655321400442},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/controllers/AuthController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _db = _interopRequireDefault(require(\"../utils/db\"));\n\nvar _redis = _interopRequireDefault(require(\"../utils/redis\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _require = require('uuid'),\n    uuidv4 = _require.v4;\n\nexports.getConnect = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var header, b64Credentials, credentials, email, password, db, passHash, userObj, user, token, key;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            header = req.get('Authorization');\n\n            if (header) {\n              _context.next = 4;\n              break;\n            }\n\n            res.status(401).json({\n              error: 'Uauthorized'\n            });\n            return _context.abrupt(\"return\");\n\n          case 4:\n            b64Credentials = header.split(' ')[1];\n            credentials = Buffer.from(b64Credentials, 'base64').toString('utf8');\n            email = credentials.split(':')[0];\n            password = credentials.split(':')[1];\n\n            if (!(!email || !password)) {\n              _context.next = 11;\n              break;\n            }\n\n            res.status(401).json({\n              error: 'Unauthorized'\n            });\n            return _context.abrupt(\"return\");\n\n          case 11:\n            db = _db[\"default\"].db.collection('users');\n\n            if (!_db[\"default\"].isAlive()) {\n              _context.next = 32;\n              break;\n            }\n\n            _context.next = 15;\n            return _db[\"default\"].hashing(password);\n\n          case 15:\n            passHash = _context.sent;\n            userObj = {\n              email: email,\n              password: passHash\n            };\n            _context.next = 19;\n            return db.findOne(userObj);\n\n          case 19:\n            user = _context.sent;\n\n            if (!user) {\n              _context.next = 30;\n              break;\n            }\n\n            token = uuidv4();\n            key = \"auth_\".concat(token);\n\n            if (!_redis[\"default\"].isAlive()) {\n              _context.next = 28;\n              break;\n            }\n\n            _context.next = 26;\n            return _redis[\"default\"].set(key, user._id.toString(), 86400);\n\n          case 26:\n            res.status(200).json({\n              token: token\n            });\n            return _context.abrupt(\"return\");\n\n          case 28:\n            _context.next = 32;\n            break;\n\n          case 30:\n            res.status(401).json({\n              error: 'Unauthorized'\n            });\n            return _context.abrupt(\"return\");\n\n          case 32:\n            res.status(500).json({\n              error: 'database down'\n            });\n\n          case 33:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.getDisconnect = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var token, userToken, verifyUser;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            token = req.get('X-Token');\n\n            if (!token) {\n              _context2.next = 11;\n              break;\n            }\n\n            userToken = \"auth_\".concat(token);\n            _context2.next = 5;\n            return _redis[\"default\"].get(userToken);\n\n          case 5:\n            verifyUser = _context2.sent;\n\n            if (!verifyUser) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 9;\n            return _redis[\"default\"].del(userToken);\n\n          case 9:\n            res.status(204).json();\n            return _context2.abrupt(\"return\");\n\n          case 11:\n            res.status(401).json({\n              error: 'Unauthorized'\n            });\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwidXVpZHY0IiwidjQiLCJleHBvcnRzIiwiZ2V0Q29ubmVjdCIsInJlcSIsInJlcyIsImhlYWRlciIsImdldCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImI2NENyZWRlbnRpYWxzIiwic3BsaXQiLCJjcmVkZW50aWFscyIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsImVtYWlsIiwicGFzc3dvcmQiLCJkYiIsImRiQ2xpZW50IiwiY29sbGVjdGlvbiIsImlzQWxpdmUiLCJoYXNoaW5nIiwicGFzc0hhc2giLCJ1c2VyT2JqIiwiZmluZE9uZSIsInVzZXIiLCJ0b2tlbiIsImtleSIsInJlZGlzQ2xpZW50Iiwic2V0IiwiX2lkIiwiZ2V0RGlzY29ubmVjdCIsInVzZXJUb2tlbiIsInZlcmlmeVVzZXIiLCJkZWwiXSwic291cmNlUm9vdCI6Ii9ob21lL3RyYW5zZm9ycy9BTFgvYWx4LWZpbGVzX21hbmFnZXIvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJBdXRoQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJDbGllbnQgZnJvbSAnLi4vdXRpbHMvZGInO1xuaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4uL3V0aWxzL3JlZGlzJztcbmNvbnN0IHsgdjQ6IHV1aWR2NCwgfSA9IHJlcXVpcmUoJ3V1aWQnKTtcblxuZXhwb3J0cy5nZXRDb25uZWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGhlYWRlciA9IHJlcS5nZXQoJ0F1dGhvcml6YXRpb24nKTtcbiAgaWYgKCFoZWFkZXIpIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7ZXJyb3I6ICdVYXV0aG9yaXplZCd9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYjY0Q3JlZGVudGlhbHMgPSBoZWFkZXIuc3BsaXQoJyAnKVsxXTtcbiAgY29uc3QgY3JlZGVudGlhbHMgPSBCdWZmZXIuZnJvbShiNjRDcmVkZW50aWFscywgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGY4Jyk7XG4gIGNvbnN0IGVtYWlsID0gY3JlZGVudGlhbHMuc3BsaXQoJzonKVswXTtcbiAgY29uc3QgcGFzc3dvcmQgPSBjcmVkZW50aWFscy5zcGxpdCgnOicpWzFdO1xuXG4gIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oe2Vycm9yOiAnVW5hdXRob3JpemVkJ30pO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY29uc3QgZGIgPSBkYkNsaWVudC5kYi5jb2xsZWN0aW9uKCd1c2VycycpO1xuICBpZiAoZGJDbGllbnQuaXNBbGl2ZSgpKSB7XG4gICAgY29uc3QgcGFzc0hhc2ggPSBhd2FpdCBkYkNsaWVudC5oYXNoaW5nKHBhc3N3b3JkKTtcbiAgICBjb25zdCB1c2VyT2JqID0ge2VtYWlsLCBwYXNzd29yZDogcGFzc0hhc2h9O1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5maW5kT25lKHVzZXJPYmopOyAvLyBjaGVjayBpZiB1c2VyIGV4aXN0c1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHV1aWR2NCgpO1xuICAgICAgY29uc3Qga2V5ID0gYGF1dGhfJHt0b2tlbn1gO1xuICAgICAgaWYgKHJlZGlzQ2xpZW50LmlzQWxpdmUoKSkge1xuICAgICAgICBhd2FpdCByZWRpc0NsaWVudC5zZXQoa2V5LCB1c2VyLl9pZC50b1N0cmluZygpLCA4NjQwMCk7IFxuXHRyZXMuc3RhdHVzKDIwMCkuanNvbih7dG9rZW4sfSk7XG5cdHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oe2Vycm9yOiAnVW5hdXRob3JpemVkJ30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6ICdkYXRhYmFzZSBkb3duJ30pO1xufVxuXG5leHBvcnRzLmdldERpc2Nvbm5lY3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdG9rZW4gPSByZXEuZ2V0KCdYLVRva2VuJyk7XG4gIGlmICh0b2tlbikge1xuICAgIGNvbnN0IHVzZXJUb2tlbiA9IGBhdXRoXyR7dG9rZW59YDtcbiAgICBjb25zdCB2ZXJpZnlVc2VyID0gYXdhaXQgcmVkaXNDbGllbnQuZ2V0KHVzZXJUb2tlbik7XG4gICAgaWYgKHZlcmlmeVVzZXIpIHtcbiAgICAgIGF3YWl0IHJlZGlzQ2xpZW50LmRlbCh1c2VyVG9rZW4pO1xuICAgICAgcmVzLnN0YXR1cygyMDQpLmpzb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmVzLnN0YXR1cyg0MDEpLmpzb24oe2Vycm9yOiAnVW5hdXRob3JpemVkJ30pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7Ozs7K0NBQUEsb0o7Ozs7OztBQUNBLGVBQXdCQSxPQUFPLENBQUMsTUFBRCxDQUEvQjtBQUFBLElBQVlDLE1BQVosWUFBUUMsRUFBUjs7QUFFQUMsT0FBTyxDQUFDQyxVQUFSO0VBQUEsc0VBQXFCLGlCQUFPQyxHQUFQLEVBQVlDLEdBQVo7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ2JDLE1BRGEsR0FDSkYsR0FBRyxDQUFDRyxHQUFKLENBQVEsZUFBUixDQURJOztZQUFBLElBRWRELE1BRmM7Y0FBQTtjQUFBO1lBQUE7O1lBR2pCRCxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtjQUFDQyxLQUFLLEVBQUU7WUFBUixDQUFyQjtZQUhpQjs7VUFBQTtZQU1iQyxjQU5hLEdBTUlMLE1BQU0sQ0FBQ00sS0FBUCxDQUFhLEdBQWIsRUFBa0IsQ0FBbEIsQ0FOSjtZQU9iQyxXQVBhLEdBT0NDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixjQUFaLEVBQTRCLFFBQTVCLEVBQXNDSyxRQUF0QyxDQUErQyxNQUEvQyxDQVBEO1lBUWJDLEtBUmEsR0FRTEosV0FBVyxDQUFDRCxLQUFaLENBQWtCLEdBQWxCLEVBQXVCLENBQXZC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","map":{"version":3,"names":["require","uuidv4","v4","exports","getConnect","req","res","header","get","status","json","error","b64Credentials","split","credentials","Buffer","from","toString","email","password","db","dbClient","collection","isAlive","hashing","passHash","userObj","findOne","user","token","key","redisClient","set","_id","getDisconnect","userToken","verifyUser","del"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/controllers/","sources":["AuthController.js"],"sourcesContent":["import dbClient from '../utils/db';\nimport redisClient from '../utils/redis';\nconst { v4: uuidv4, } = require('uuid');\n\nexports.getConnect = async (req, res) => {\n  const header = req.get('Authorization');\n  if (!header) {\n    res.status(401).json({error: 'Uauthorized'});\n    return;\n  }\n  const b64Credentials = header.split(' ')[1];\n  const credentials = Buffer.from(b64Credentials, 'base64').toString('utf8');\n  const email = credentials.split(':')[0];\n  const password = credentials.split(':')[1];\n\n  if (!email || !password) {\n    res.status(401).json({error: 'Unauthorized'});\n    return;\n  }\n  \n  const db = dbClient.db.collection('users');\n  if (dbClient.isAlive()) {\n    const passHash = await dbClient.hashing(password);\n    const userObj = {email, password: passHash};\n    const user = await db.findOne(userObj); // check if user exists\n    if (user) {\n      const token = uuidv4();\n      const key = `auth_${token}`;\n      if (redisClient.isAlive()) {\n        await redisClient.set(key, user._id.toString(), 86400); \n\tres.status(200).json({token,});\n\treturn;\n      }\n    } else {\n      res.status(401).json({error: 'Unauthorized'});\n      return;\n    }\n  }\n  res.status(500).json({error: 'database down'});\n}\n\nexports.getDisconnect = async (req, res) => {\n  const token = req.get('X-Token');\n  if (token) {\n    const userToken = `auth_${token}`;\n    const verifyUser = await redisClient.get(userToken);\n    if (verifyUser) {\n      await redisClient.del(userToken);\n      res.status(204).json();\n      return;\n    }\n  }\n  res.status(401).json({error: 'Unauthorized'});\n}\n"],"mappings":"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"}},"mtime":1655325014957},"{\"assumptions\":{},\"sourceRoot\":\"/home/transfors/ALX/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/transfors/ALX/alx-files_manager\",\"filename\":\"/home/transfors/ALX/alx-files_manager/controllers/FilesController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/transfors/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _db3 = _interopRequireDefault(require(\"../utils/db\"));\n\nvar _redis = _interopRequireDefault(require(\"../utils/redis\"));\n\nvar _uuid = require(\"uuid\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _mongodb = require(\"mongodb\");\n\nvar _bull = _interopRequireDefault(require(\"bull\"));\n\nvar _mimeTypes = _interopRequireDefault(require(\"mime-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar fileQueue = new _bull[\"default\"]('fileQueue', {\n  redis: {\n    host: '127.0.0.1',\n    port: 6379\n  }\n});\n\nvar FilesController = /*#__PURE__*/function () {\n  function FilesController() {\n    _classCallCheck(this, FilesController);\n  }\n\n  _createClass(FilesController, null, [{\n    key: \"findUser\",\n    value: // find user based on request\n    function () {\n      var _findUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req) {\n        var token, userToken, userId, db, user;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                token = req.get('X-Token');\n\n                if (token) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 3:\n                userToken = \"auth_\".concat(token);\n                _context.next = 6;\n                return _redis[\"default\"].get(userToken);\n\n              case 6:\n                userId = _context.sent;\n\n                if (!userId) {\n                  _context.next = 14;\n                  break;\n                }\n\n                db = _db3[\"default\"].db.collection('users');\n                _context.next = 11;\n                return db.findOne({\n                  _id: (0, _mongodb.ObjectId)(userId)\n                });\n\n              case 11:\n                user = _context.sent;\n\n                if (!user) {\n                  _context.next = 14;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", user);\n\n              case 14:\n                return _context.abrupt(\"return\", null);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function findUser(_x) {\n        return _findUser.apply(this, arguments);\n      }\n\n      return findUser;\n    }() // check if directory path exists\n\n  }, {\n    key: \"validatePath\",\n    value: function () {\n      var _validatePath = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(path) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", new Promise(function (resolve) {\n                  _fs[\"default\"].access(path, _fs[\"default\"].constants.F_OK, function (err) {\n                    resolve(!err);\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function validatePath(_x2) {\n        return _validatePath.apply(this, arguments);\n      }\n\n      return validatePath;\n    }() // helper function to write data to file\n\n  }, {\n    key: \"writeContent\",\n    value: function () {\n      var _writeContent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(filePath, data) {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _fs[\"default\"].promises.writeFile(filePath, data, 'utf-8', function (error) {\n                  if (error) reject(false);\n                  resolve(true);\n                });\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function writeContent(_x3, _x4) {\n        return _writeContent.apply(this, arguments);\n      }\n\n      return writeContent;\n    }()\n  }, {\n    key: \"postUpload\",\n    value: function () {\n      var _postUpload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n        var user, types, _req$body, name, type, parentId, isPublic, data, db, file, newFile, _db, result, folderPath, fileName, filePath, plainData, validPath, success, _db2, _result, resContent;\n\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return FilesController.findUser(req);\n\n              case 2:\n                user = _context4.sent;\n\n                if (user) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                res.status(401).send({\n                  error: 'Unauthorized'\n                });\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                types = ['folder', 'file', 'image'];\n                _req$body = req.body, name = _req$body.name, type = _req$body.type, parentId = _req$body.parentId, isPublic = _req$body.isPublic, data = _req$body.data;\n\n                if (name) {\n                  _context4.next = 11;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Missing name\"\n                });\n                return _context4.abrupt(\"return\");\n\n              case 11:\n                if (!(!type || !types.includes(type))) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Missing type\"\n                });\n                return _context4.abrupt(\"return\");\n\n              case 14:\n                if (!(!data && type !== 'folder')) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Missing data\"\n                });\n                return _context4.abrupt(\"return\");\n\n              case 17:\n                if (!parentId) {\n                  _context4.next = 28;\n                  break;\n                }\n\n                db = _db3[\"default\"].db.collection('files');\n                _context4.next = 21;\n                return db.findOne({\n                  _id: (0, _mongodb.ObjectId)(parentId)\n                });\n\n              case 21:\n                file = _context4.sent;\n\n                if (file) {\n                  _context4.next = 25;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Parent not found\"\n                });\n                return _context4.abrupt(\"return\");\n\n              case 25:\n                if (!(file.type !== 'folder')) {\n                  _context4.next = 28;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"Parent is not a folder\"\n                });\n                return _context4.abrupt(\"return\");\n\n              case 28:\n                newFile = {\n                  name: name,\n                  type: type,\n                  parentId: parentId || 0,\n                  isPublic: isPublic || false,\n                  userId: user._id.toString()\n                };\n\n                if (!(newFile.type === 'folder')) {\n                  _context4.next = 39;\n                  break;\n                }\n\n                _db = _db3[\"default\"].db.collection('files');\n                _context4.next = 33;\n                return _db.insertOne(newFile);\n\n              case 33:\n                result = _context4.sent;\n                newFile.id = result.insertedId;\n                delete newFile._id;\n                res.status(201).json(newFile);\n                _context4.next = 71;\n                break;\n\n              case 39:\n                folderPath = process.env.FOLDER_PATH || \"/tmp/files_manager\";\n                fileName = (0, _uuid.v4)();\n                filePath = _path[\"default\"].join(folderPath, fileName);\n                newFile.localPath = filePath;\n                plainData = Buffer.from(data, 'base64').toString('utf8'); // creating directory\n\n                _context4.next = 46;\n                return FilesController.validatePath(folderPath);\n\n              case 46:\n                validPath = _context4.sent;\n\n                if (validPath) {\n                  _context4.next = 50;\n                  break;\n                }\n\n                _context4.next = 50;\n                return _fs[\"default\"].promises.mkdir(folderPath, {\n                  recursive: true\n                });\n\n              case 50:\n                _context4.prev = 50;\n                _context4.next = 53;\n                return FilesController.writeContent(filePath, plainData);\n\n              case 53:\n                success = _context4.sent;\n                _db2 = _db3[\"default\"].db.collection('files');\n                _context4.next = 57;\n                return _db2.insertOne(newFile);\n\n              case 57:\n                _result = _context4.sent;\n                resContent = _objectSpread(_objectSpread({}, newFile), {}, {\n                  id: _result.insertedId\n                });\n                delete resContent._id;\n                delete resContent.localPath; // processing thumbnails\n\n                if (resContent.type === 'image') {\n                  fileQueue.add({\n                    userId: resContent.userId,\n                    fileId: resContent.id\n                  });\n                }\n\n                res.setHeader('Content-Type', 'application/json');\n                res.status(201).json(resContent);\n                _context4.next = 71;\n                break;\n\n              case 66:\n                _context4.prev = 66;\n                _context4.t0 = _context4[\"catch\"](50);\n                console.log(_context4.t0.message);\n                res.status(400).json({\n                  error: \"internal error\"\n                });\n                return _context4.abrupt(\"return\");\n\n              case 71:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[50, 66]]);\n      }));\n\n      function postUpload(_x5, _x6) {\n        return _postUpload.apply(this, arguments);\n      }\n\n      return postUpload;\n    }() // retrieves  the file document based on the id\n\n  }, {\n    key: \"getShow\",\n    value: function () {\n      var _getShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n        var fileId, user, db, userFile, doc;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                fileId = req.params.id;\n                _context5.next = 3;\n                return FilesController.findUser(req);\n\n              case 3:\n                user = _context5.sent;\n\n                if (user) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                res.status(401).send({\n                  error: 'Unauthorized'\n                });\n                return _context5.abrupt(\"return\");\n\n              case 7:\n                db = _db3[\"default\"].db.collection('files');\n                userFile = {\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id.toString()\n                };\n                _context5.next = 11;\n                return db.findOne(userFile);\n\n              case 11:\n                doc = _context5.sent;\n\n                if (!doc) {\n                  res.status(404).json({\n                    error: \"Not found\"\n                  });\n                } else {\n                  doc.id = doc._id;\n                  delete doc._id;\n                  delete doc.localPath;\n                  res.status(200).json(doc);\n                }\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function getShow(_x7, _x8) {\n        return _getShow.apply(this, arguments);\n      }\n\n      return getShow;\n    }()\n  }, {\n    key: \"getIndex\",\n    value: function () {\n      var _getIndex = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n        var _req$query, parentId, page, user, search, db, limit, pageNumber, skips, result, output;\n\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _req$query = req.query, parentId = _req$query.parentId, page = _req$query.page;\n                _context6.next = 3;\n                return FilesController.findUser(req);\n\n              case 3:\n                user = _context6.sent;\n\n                if (user) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                res.status(401).send({\n                  error: 'Unauthorized'\n                });\n                return _context6.abrupt(\"return\");\n\n              case 7:\n                db = _db3[\"default\"].db.collection('files');\n\n                if (!parentId) {\n                  search = {\n                    userId: user._id.toString()\n                  };\n                } else {\n                  search = {\n                    userId: user._id.toString(),\n                    parentId: parentId\n                  };\n                } // pagination elements\n\n\n                limit = 20;\n                pageNumber = page || 1;\n                skips = (pageNumber - 1) * limit; // pagination using aggregation\n\n                _context6.next = 14;\n                return db.aggregate([{\n                  $match: search\n                }, {\n                  $skip: skips\n                }, {\n                  $limit: limit\n                }]).toArray();\n\n              case 14:\n                result = _context6.sent;\n                output = result.map(function (file) {\n                  var newFile = _objectSpread(_objectSpread({}, file), {}, {\n                    id: file._id\n                  });\n\n                  delete newFile._id;\n                  delete newFile.localPath;\n                  return newFile;\n                });\n                res.status(200).json(output);\n\n              case 17:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getIndex(_x9, _x10) {\n        return _getIndex.apply(this, arguments);\n      }\n\n      return getIndex;\n    }() // sets isPublic to true\n\n  }, {\n    key: \"putPublish\",\n    value: function () {\n      var _putPublish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n        var user, fileId, db, queryFile, doc, update, results;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return FilesController.findUser(req);\n\n              case 2:\n                user = _context7.sent;\n\n                if (user) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                res.status(401).send({\n                  error: 'Unauthorized'\n                });\n                return _context7.abrupt(\"return\");\n\n              case 6:\n                fileId = req.params.id;\n                db = _db3[\"default\"].db.collection('files');\n                queryFile = {\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id.toString()\n                };\n                _context7.next = 11;\n                return db.findOne(queryFile);\n\n              case 11:\n                doc = _context7.sent;\n\n                if (doc) {\n                  _context7.next = 16;\n                  break;\n                }\n\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                _context7.next = 26;\n                break;\n\n              case 16:\n                update = {\n                  $set: {\n                    isPublic: true\n                  }\n                };\n                _context7.next = 19;\n                return db.updateOne({\n                  _id: (0, _mongodb.ObjectId)(fileId)\n                }, update)[\"catch\"](function (err) {\n                  console.log(err.message);\n                });\n\n              case 19:\n                _context7.next = 21;\n                return db.findOne(queryFile);\n\n              case 21:\n                results = _context7.sent;\n                results.id = results._id;\n                delete results._id;\n                delete results.localPath;\n                return _context7.abrupt(\"return\", res.status(200).json(results));\n\n              case 26:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function putPublish(_x11, _x12) {\n        return _putPublish.apply(this, arguments);\n      }\n\n      return putPublish;\n    }() // sets isPublic to false\n\n  }, {\n    key: \"putUnpublish\",\n    value: function () {\n      var _putUnpublish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n        var user, fileId, queryFile, db, doc, query, update, results;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return FilesController.findUser(req);\n\n              case 2:\n                user = _context8.sent;\n\n                if (user) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                res.status(401).send({\n                  error: 'Unauthorized'\n                });\n                return _context8.abrupt(\"return\");\n\n              case 6:\n                fileId = req.params.id;\n                queryFile = {\n                  _id: (0, _mongodb.ObjectId)(fileId),\n                  userId: user._id.toString()\n                };\n                db = _db3[\"default\"].db.collection('files');\n                _context8.next = 11;\n                return db.findOne(queryFile);\n\n              case 11:\n                doc = _context8.sent;\n\n                if (doc) {\n                  _context8.next = 17;\n                  break;\n                }\n\n                res.status(401).json({\n                  error: \"Unauthorized\"\n                });\n                return _context8.abrupt(\"return\");\n\n              case 17:\n                query = {\n                  _id: (0, _mongodb.ObjectId)(fileId)\n                };\n                update = {\n                  $set: {\n                    isPublic: false\n                  }\n                };\n                _context8.next = 21;\n                return db.updateOne(query, update);\n\n              case 21:\n                _context8.next = 23;\n                return db.findOne(queryFile);\n\n              case 23:\n                results = _context8.sent;\n                results.id = results._id;\n                delete results._id;\n                delete results.localPath;\n                res.status(200).json(results);\n\n              case 28:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function putUnpublish(_x13, _x14) {\n        return _putUnpublish.apply(this, arguments);\n      }\n\n      return putUnpublish;\n    }() // returns content of file document based on the id\n\n  }, {\n    key: \"getFile\",\n    value: function () {\n      var _getFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n        var fileId, size, db, file, user, path, verified;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                fileId = req.params.id;\n                size = req.query.size;\n                db = _db3[\"default\"].db.collection('files');\n                _context9.next = 5;\n                return db.findOne({\n                  _id: (0, _mongodb.ObjectId)(fileId)\n                });\n\n              case 5:\n                file = _context9.sent;\n                _context9.next = 8;\n                return file;\n\n              case 8:\n                if (_context9.sent) {\n                  _context9.next = 11;\n                  break;\n                }\n\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                return _context9.abrupt(\"return\");\n\n              case 11:\n                _context9.next = 13;\n                return FilesController.findUser(req);\n\n              case 13:\n                user = _context9.sent;\n\n                if (!(file.isPublic === false)) {\n                  _context9.next = 23;\n                  break;\n                }\n\n                if (!user) {\n                  _context9.next = 21;\n                  break;\n                }\n\n                if (!(user._id.toString() !== file.userId)) {\n                  _context9.next = 19;\n                  break;\n                }\n\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                return _context9.abrupt(\"return\");\n\n              case 19:\n                _context9.next = 23;\n                break;\n\n              case 21:\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                return _context9.abrupt(\"return\");\n\n              case 23:\n                if (!(file.type === 'folder')) {\n                  _context9.next = 26;\n                  break;\n                }\n\n                res.status(400).json({\n                  error: \"A folder doesn't have content\"\n                });\n                return _context9.abrupt(\"return\");\n\n              case 26:\n                path = file.localPath;\n\n                if (size && file.type === 'image') {\n                  path = \"\".concat(file.localPath, \"_\").concat(size);\n                }\n\n                _context9.next = 30;\n                return FilesController.validatePath(path);\n\n              case 30:\n                verified = _context9.sent;\n\n                if (verified) {\n                  _context9.next = 36;\n                  break;\n                }\n\n                res.status(404).json({\n                  error: \"Not found\"\n                });\n                return _context9.abrupt(\"return\");\n\n              case 36:\n                res.set('Content-Type', _mimeTypes[\"default\"].lookup(file.name));\n                res.status(200).sendFile(path);\n\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function getFile(_x15, _x16) {\n        return _getFile.apply(this, arguments);\n      }\n\n      return getFile;\n    }()\n  }]);\n\n  return FilesController;\n}();\n\nvar _default = FilesController;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaWxlUXVldWUiLCJRdWV1ZSIsInJlZGlzIiwiaG9zdCIsInBvcnQiLCJGaWxlc0NvbnRyb2xsZXIiLCJyZXEiLCJ0b2tlbiIsImdldCIsInVzZXJUb2tlbiIsInJlZGlzQ2xpZW50IiwidXNlcklkIiwiZGIiLCJkYkNsaWVudCIsImNvbGxlY3Rpb24iLCJmaW5kT25lIiwiX2lkIiwiT2JqZWN0SWQiLCJ1c2VyIiwicGF0aCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZnMiLCJhY2Nlc3MiLCJjb25zdGFudHMiLCJGX09LIiwiZXJyIiwiZmlsZVBhdGgiLCJkYXRhIiwicHJvbWlzZXMiLCJ3cml0ZUZpbGUiLCJlcnJvciIsInJlamVjdCIsInJlcyIsImZpbmRVc2VyIiwic3RhdHVzIiwic2VuZCIsInR5cGVzIiwiYm9keSIsIm5hbWUiLCJ0eXBlIiwicGFyZW50SWQiLCJpc1B1YmxpYyIsImpzb24iLCJpbmNsdWRlcyIsImZpbGUiLCJuZXdGaWxlIiwidG9TdHJpbmciLCJpbnNlcnRPbmUiLCJyZXN1bHQiLCJpZCIsImluc2VydGVkSWQiLCJmb2xkZXJQYXRoIiwicHJvY2VzcyIsImVudiIsIkZPTERFUl9QQVRIIiwiZmlsZU5hbWUiLCJ1dWlkdjQiLCJqb2luIiwibG9jYWxQYXRoIiwicGxhaW5EYXRhIiwiQnVmZmVyIiwiZnJvbSIsInZhbGlkYXRlUGF0aCIsInZhbGlkUGF0aCIsIm1rZGlyIiwicmVjdXJzaXZlIiwid3JpdGVDb250ZW50Iiwic3VjY2VzcyIsInJlc0NvbnRlbnQiLCJhZGQiLCJmaWxlSWQiLCJzZXRIZWFkZXIiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsInBhcmFtcyIsInVzZXJGaWxlIiwiZG9jIiwicXVlcnkiLCJwYWdlIiwic2VhcmNoIiwibGltaXQiLCJwYWdlTnVtYmVyIiwic2tpcHMiLCJhZ2dyZWdhdGUiLCIkbWF0Y2giLCIkc2tpcCIsIiRsaW1pdCIsInRvQXJyYXkiLCJvdXRwdXQiLCJtYXAiLCJxdWVyeUZpbGUiLCJ1cGRhdGUiLCIkc2V0IiwidXBkYXRlT25lIiwicmVzdWx0cyIsInNpemUiLCJ2ZXJpZmllZCIsInNldCIsIm1pbWUiLCJsb29rdXAiLCJzZW5kRmlsZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvdHJhbnNmb3JzL0FMWC9hbHgtZmlsZXNfbWFuYWdlci9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkZpbGVzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJDbGllbnQgZnJvbSAnLi4vdXRpbHMvZGInO1xuaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4uL3V0aWxzL3JlZGlzJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCwgfSBmcm9tICd1dWlkJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IE9iamVjdElkLCB9IGZyb20gJ21vbmdvZGInO1xuaW1wb3J0IFF1ZXVlIGZyb20gJ2J1bGwnO1xuaW1wb3J0IG1pbWUgZnJvbSAnbWltZS10eXBlcyc7XG5cbmNvbnN0IGZpbGVRdWV1ZSA9IG5ldyBRdWV1ZSgnZmlsZVF1ZXVlJywge1xuICByZWRpczoge1xuICBob3N0OiAnMTI3LjAuMC4xJyxcbiAgcG9ydDogNjM3OSxcbiAgfVxufSk7XG5jbGFzcyBGaWxlc0NvbnRyb2xsZXIge1xuICAvLyBmaW5kIHVzZXIgYmFzZWQgb24gcmVxdWVzdFxuICBzdGF0aWMgYXN5bmMgZmluZFVzZXIocmVxKSB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuZ2V0KCdYLVRva2VuJyk7XG4gICAgaWYgKCF0b2tlbilcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHVzZXJUb2tlbiA9IGBhdXRoXyR7dG9rZW59YDtcbiAgICBjb25zdCB1c2VySWQgPSBhd2FpdCByZWRpc0NsaWVudC5nZXQodXNlclRva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBjb25zdCBkYiA9IGRiQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ3VzZXJzJyk7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuZmluZE9uZSh7X2lkOiBPYmplY3RJZCh1c2VySWQpLH0pO1xuICAgICAgaWYgKHVzZXIpXG4gICAgICAgIHJldHVybiB1c2VyO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIGRpcmVjdG9yeSBwYXRoIGV4aXN0c1xuXG4gIHN0YXRpYyBhc3luYyB2YWxpZGF0ZVBhdGgocGF0aCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgZnMuYWNjZXNzKHBhdGgsIGZzLmNvbnN0YW50cy5GX09LLCAoZXJyKSA9PiB7XG4gICAgICAgIHJlc29sdmUoIWVycik7XG4gICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gaGVscGVyIGZ1bmN0aW9uIHRvIHdyaXRlIGRhdGEgdG8gZmlsZVxuICBzdGF0aWMgYXN5bmMgd3JpdGVDb250ZW50KGZpbGVQYXRoLCBkYXRhKSB7XG4gICAgZnMucHJvbWlzZXMud3JpdGVGaWxlKGZpbGVQYXRoLCBkYXRhLCAndXRmLTgnLCAoZXJyb3IpID0+IHtcbiAgICAgIGlmIChlcnJvcikgcmVqZWN0KGZhbHNlKTtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGFzeW5jIHBvc3RVcGxvYWQocmVxLCByZXMpIHtcbiAgICAvLyB2YWxpZGF0ZSB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IEZpbGVzQ29udHJvbGxlci5maW5kVXNlcihyZXEpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe2Vycm9yOiAnVW5hdXRob3JpemVkJyx9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHlwZXMgPSBbJ2ZvbGRlcicsICdmaWxlJywgJ2ltYWdlJ107XG4gICAgY29uc3QgeyBuYW1lLCB0eXBlLCBwYXJlbnRJZCwgaXNQdWJsaWMsIGRhdGEsIH0gPSByZXEuYm9keTtcbiAgICBcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogXCJNaXNzaW5nIG5hbWVcIn0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXR5cGUgfHwgIXR5cGVzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyb3I6IFwiTWlzc2luZyB0eXBlXCJ9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFkYXRhICYmICh0eXBlICE9PSAnZm9sZGVyJykpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogXCJNaXNzaW5nIGRhdGFcIn0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgY29uc3QgZGIgPSBkYkNsaWVudC5kYi5jb2xsZWN0aW9uKCdmaWxlcycpO1xuICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IGRiLmZpbmRPbmUoe19pZDogT2JqZWN0SWQocGFyZW50SWQpLH0pO1xuICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogXCJQYXJlbnQgbm90IGZvdW5kXCJ9KTtcblx0cmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGUudHlwZSAhPT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe2Vycm9yOiBcIlBhcmVudCBpcyBub3QgYSBmb2xkZXJcIix9KTtcblx0cmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBuZXdGaWxlID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHR5cGUsIFxuICAgICAgcGFyZW50SWQ6IHBhcmVudElkIHx8IDAsXG4gICAgICBpc1B1YmxpYzogaXNQdWJsaWMgfHwgZmFsc2UsXG4gICAgICB1c2VySWQ6IHVzZXIuX2lkLnRvU3RyaW5nKCksXG4gICAgfTtcbiAgICBcbiAgICBpZiAobmV3RmlsZS50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgY29uc3QgZGIgPSAgZGJDbGllbnQuZGIuY29sbGVjdGlvbignZmlsZXMnKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydE9uZShuZXdGaWxlKTtcbiAgICAgIG5ld0ZpbGUuaWQgPSByZXN1bHQuaW5zZXJ0ZWRJZDtcbiAgICAgIGRlbGV0ZSBuZXdGaWxlLl9pZDtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld0ZpbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmb2xkZXJQYXRoID0gcHJvY2Vzcy5lbnYuRk9MREVSX1BBVEggfHwgXCIvdG1wL2ZpbGVzX21hbmFnZXJcIjtcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gdXVpZHY0KCk7XG4gICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihmb2xkZXJQYXRoLCBmaWxlTmFtZSk7XG4gICAgICBcbiAgICAgIG5ld0ZpbGUubG9jYWxQYXRoID0gZmlsZVBhdGg7XG4gICAgICBjb25zdCBwbGFpbkRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0ZjgnKTtcbiAgICAgIFxuICAgICAgLy8gY3JlYXRpbmcgZGlyZWN0b3J5XG4gICAgICBjb25zdCB2YWxpZFBhdGggPSBhd2FpdCBGaWxlc0NvbnRyb2xsZXIudmFsaWRhdGVQYXRoKGZvbGRlclBhdGgpO1xuICAgICAgaWYgKCF2YWxpZFBhdGgpIHtcbiAgICAgICAgYXdhaXQgZnMucHJvbWlzZXMubWtkaXIoZm9sZGVyUGF0aCwge3JlY3Vyc2l2ZTogdHJ1ZX0gKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBGaWxlc0NvbnRyb2xsZXIud3JpdGVDb250ZW50KGZpbGVQYXRoLCBwbGFpbkRhdGEpO1xuXHRjb25zdCBkYiA9IGRiQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ2ZpbGVzJyk7XG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydE9uZShuZXdGaWxlKTtcbiAgICAgICAgY29uc3QgcmVzQ29udGVudCA9IHsgLi4ubmV3RmlsZSwgaWQ6IHJlc3VsdC5pbnNlcnRlZElkLCB9O1xuXHRkZWxldGUgcmVzQ29udGVudC5faWQ7XG5cdGRlbGV0ZSByZXNDb250ZW50LmxvY2FsUGF0aDtcblx0XG5cdCAvLyBwcm9jZXNzaW5nIHRodW1ibmFpbHNcblx0aWYgKHJlc0NvbnRlbnQudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgIGZpbGVRdWV1ZS5hZGQoe1xuICAgICAgICAgICAgdXNlcklkOiByZXNDb250ZW50LnVzZXJJZCxcblx0ICAgIGZpbGVJZDogcmVzQ29udGVudC5pZCB9KTtcblx0fVxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRyZXMuc3RhdHVzKDIwMSkuanNvbihyZXNDb250ZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7ZXJyb3I6IFwiaW50ZXJuYWwgZXJyb3JcIn0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gcmV0cmlldmVzICB0aGUgZmlsZSBkb2N1bWVudCBiYXNlZCBvbiB0aGUgaWRcbiAgc3RhdGljIGFzeW5jIGdldFNob3cocmVxLCByZXMpIHtcbiAgICBjb25zdCBmaWxlSWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBGaWxlc0NvbnRyb2xsZXIuZmluZFVzZXIocmVxKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtlcnJvcjogJ1VuYXV0aG9yaXplZCcsfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRiID0gZGJDbGllbnQuZGIuY29sbGVjdGlvbignZmlsZXMnKTtcbiAgICBjb25zdCB1c2VyRmlsZSA9IHtfaWQ6IE9iamVjdElkKGZpbGVJZCksIHVzZXJJZDogdXNlci5faWQudG9TdHJpbmcoKSx9O1xuICAgIGNvbnN0IGRvYyA9IGF3YWl0IGRiLmZpbmRPbmUodXNlckZpbGUpO1xuICAgIGlmICghZG9jKSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7ZXJyb3I6IFwiTm90IGZvdW5kXCJ9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLmlkID0gZG9jLl9pZDtcbiAgICAgIGRlbGV0ZSBkb2MuX2lkO1xuICAgICAgZGVsZXRlIGRvYy5sb2NhbFBhdGg7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihkb2MpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRJbmRleChyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgcGFyZW50SWQsIHBhZ2UsIH0gID0gcmVxLnF1ZXJ5O1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBGaWxlc0NvbnRyb2xsZXIuZmluZFVzZXIocmVxKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtlcnJvcjogJ1VuYXV0aG9yaXplZCcsfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzZWFyY2g7XG4gICAgY29uc3QgZGIgPSBkYkNsaWVudC5kYi5jb2xsZWN0aW9uKCdmaWxlcycpO1xuICAgIGlmICghcGFyZW50SWQpIHtcbiAgICAgIHNlYXJjaCA9IHt1c2VySWQ6IHVzZXIuX2lkLnRvU3RyaW5nKCksIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaCA9IHt1c2VySWQ6IHVzZXIuX2lkLnRvU3RyaW5nKCksIHBhcmVudElkLH07XG4gICAgfVxuICAgIFxuICAgIC8vIHBhZ2luYXRpb24gZWxlbWVudHNcbiAgICBjb25zdCBsaW1pdCA9IDIwO1xuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBwYWdlIHx8IDE7XG4gICAgY29uc3Qgc2tpcHMgPSAocGFnZU51bWJlciAtIDEpICogbGltaXQ7XG5cbiAgICAvLyBwYWdpbmF0aW9uIHVzaW5nIGFnZ3JlZ2F0aW9uXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuYWdncmVnYXRlKFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWFyY2gsXG4gICAgICB9LFxuICAgICAge1xuXHQkc2tpcDogc2tpcHMsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAkbGltaXQ6IGxpbWl0LFxuICAgICAgfSxcbiAgICBdKS50b0FycmF5KCk7XG5cbiAgICBjb25zdCBvdXRwdXQgPSByZXN1bHQubWFwKChmaWxlKSA9PiB7XG4gICAgICBjb25zdCBuZXdGaWxlID0geyAuLi5maWxlLCBpZDogZmlsZS5faWQsfTtcbiAgICAgIGRlbGV0ZSBuZXdGaWxlLl9pZDtcbiAgICAgIGRlbGV0ZSBuZXdGaWxlLmxvY2FsUGF0aDtcbiAgICAgIHJldHVybiBuZXdGaWxlO1xuICAgIH0pO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKG91dHB1dCk7XG4gIH1cbiAgLy8gc2V0cyBpc1B1YmxpYyB0byB0cnVlXG5cbiAgc3RhdGljIGFzeW5jIHB1dFB1Ymxpc2gocmVxLCByZXMpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgRmlsZXNDb250cm9sbGVyLmZpbmRVc2VyKHJlcSk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7ZXJyb3I6ICdVbmF1dGhvcml6ZWQnLH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWxlSWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IGRiID0gZGJDbGllbnQuZGIuY29sbGVjdGlvbignZmlsZXMnKTtcbiAgICBjb25zdCBxdWVyeUZpbGUgPSB7X2lkOiBPYmplY3RJZChmaWxlSWQpLCB1c2VySWQ6IHVzZXIuX2lkLnRvU3RyaW5nKCksfTtcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBkYi5maW5kT25lKHF1ZXJ5RmlsZSk7XG4gICAgaWYgKCFkb2MpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJOb3QgZm91bmRcIn0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1cGRhdGUgPSB7JHNldDoge2lzUHVibGljOiB0cnVlLH19O1xuICAgICAgYXdhaXQgZGIudXBkYXRlT25lKHsgX2lkOiBPYmplY3RJZChmaWxlSWQpLH0sIHVwZGF0ZSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBkYi5maW5kT25lKHF1ZXJ5RmlsZSk7XG4gICAgICByZXN1bHRzLmlkID0gcmVzdWx0cy5faWQ7XG4gICAgICBkZWxldGUgcmVzdWx0cy5faWQ7XG4gICAgICBkZWxldGUgcmVzdWx0cy5sb2NhbFBhdGg7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0cyk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0cyBpc1B1YmxpYyB0byBmYWxzZVxuICBzdGF0aWMgYXN5bmMgcHV0VW5wdWJsaXNoKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IEZpbGVzQ29udHJvbGxlci5maW5kVXNlcihyZXEpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe2Vycm9yOiAnVW5hdXRob3JpemVkJyx9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlsZUlkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBjb25zdCBxdWVyeUZpbGUgPSB7X2lkOiBPYmplY3RJZChmaWxlSWQpLCB1c2VySWQ6IHVzZXIuX2lkLnRvU3RyaW5nKCksfTtcbiAgICBjb25zdCBkYiA9IGRiQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ2ZpbGVzJyk7XG4gICAgY29uc3QgZG9jID0gYXdhaXQgZGIuZmluZE9uZShxdWVyeUZpbGUpO1xuICAgIGlmICghZG9jKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7ZXJyb3I6IFwiVW5hdXRob3JpemVkXCJ9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcXVlcnkgPSB7X2lkOiBPYmplY3RJZChmaWxlSWQpLH07XG4gICAgICBjb25zdCB1cGRhdGUgPSB7JHNldDoge2lzUHVibGljOiBmYWxzZSx9LH07XG4gICAgICBhd2FpdCBkYi51cGRhdGVPbmUocXVlcnksIHVwZGF0ZSk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgZGIuZmluZE9uZShxdWVyeUZpbGUpO1xuICAgICAgcmVzdWx0cy5pZCA9IHJlc3VsdHMuX2lkO1xuICAgICAgZGVsZXRlIHJlc3VsdHMuX2lkO1xuICAgICAgZGVsZXRlIHJlc3VsdHMubG9jYWxQYXRoO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0cyk7XG4gICAgfVxuICB9XG4gIC8vIHJldHVybnMgY29udGVudCBvZiBmaWxlIGRvY3VtZW50IGJhc2VkIG9uIHRoZSBpZFxuXG4gIHN0YXRpYyBhc3luYyBnZXRGaWxlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgZmlsZUlkID0gcmVxLnBhcmFtcy5pZDtcbiAgICBjb25zdCB7IHNpemUgfSA9IHJlcS5xdWVyeTtcbiAgICBjb25zdCBkYiA9IGRiQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ2ZpbGVzJyk7XG4gICAgY29uc3QgZmlsZSA9IGF3YWl0IGRiLmZpbmRPbmUoe19pZDogT2JqZWN0SWQoZmlsZUlkKSx9KTtcbiAgICBpZiAoIShhd2FpdCBmaWxlKSkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOiBcIk5vdCBmb3VuZFwifSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNoZWNrIHVzZXIgYXV0aGVudGljYXRpb25cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgRmlsZXNDb250cm9sbGVyLmZpbmRVc2VyKHJlcSk7XG4gICAgaWYgKGZpbGUuaXNQdWJsaWMgPT09IGZhbHNlKSB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBpZiAodXNlci5faWQudG9TdHJpbmcoKSAhPT0gZmlsZS51c2VySWQpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7ZXJyb3I6IFwiTm90IGZvdW5kXCJ9KTtcbiAgICAgICAgICByZXR1cm47XG5cdH1cbiAgICAgIH0gZWxzZSB7XG5cdHJlcy5zdGF0dXMoNDA0KS5qc29uKHtlcnJvcjogXCJOb3QgZm91bmRcIn0pO1xuXHRyZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpbGUudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogXCJBIGZvbGRlciBkb2Vzbid0IGhhdmUgY29udGVudFwifSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBwYXRoID0gZmlsZS5sb2NhbFBhdGg7XG4gICAgaWYgKHNpemUgJiYgZmlsZS50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBwYXRoID0gYCR7ZmlsZS5sb2NhbFBhdGh9XyR7c2l6ZX1gO1xuICAgIH1cbiAgICBjb25zdCB2ZXJpZmllZCA9IGF3YWl0IEZpbGVzQ29udHJvbGxlci52YWxpZGF0ZVBhdGgocGF0aCk7XG4gICAgaWYgKCF2ZXJpZmllZCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOiBcIk5vdCBmb3VuZFwifSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zZXQoJ0NvbnRlbnQtVHlwZScsIG1pbWUubG9va3VwKGZpbGUubmFtZSkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxlc0NvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNB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","map":{"version":3,"names":["fileQueue","Queue","redis","host","port","FilesController","req","token","get","userToken","redisClient","userId","db","dbClient","collection","findOne","_id","ObjectId","user","path","Promise","resolve","fs","access","constants","F_OK","err","filePath","data","promises","writeFile","error","reject","res","findUser","status","send","types","body","name","type","parentId","isPublic","json","includes","file","newFile","toString","insertOne","result","id","insertedId","folderPath","process","env","FOLDER_PATH","fileName","uuidv4","join","localPath","plainData","Buffer","from","validatePath","validPath","mkdir","recursive","writeContent","success","resContent","add","fileId","setHeader","console","log","message","params","userFile","doc","query","page","search","limit","pageNumber","skips","aggregate","$match","$skip","$limit","toArray","output","map","queryFile","update","$set","updateOne","results","size","verified","set","mime","lookup","sendFile"],"sourceRoot":"/home/transfors/ALX/alx-files_manager/controllers/","sources":["FilesController.js"],"sourcesContent":["import dbClient from '../utils/db';\nimport redisClient from '../utils/redis';\nimport { v4 as uuidv4, } from 'uuid';\nimport path from 'path';\nimport fs from 'fs';\nimport { ObjectId, } from 'mongodb';\nimport Queue from 'bull';\nimport mime from 'mime-types';\n\nconst fileQueue = new Queue('fileQueue', {\n  redis: {\n  host: '127.0.0.1',\n  port: 6379,\n  }\n});\nclass FilesController {\n  // find user based on request\n  static async findUser(req) {\n    const token = req.get('X-Token');\n    if (!token)\n      return null;\n    const userToken = `auth_${token}`;\n    const userId = await redisClient.get(userToken);\n    if (userId) {\n      const db = dbClient.db.collection('users');\n      const user = await db.findOne({_id: ObjectId(userId),});\n      if (user)\n        return user;\n    }\n    return null;\n  }\n\n  // check if directory path exists\n\n  static async validatePath(path) {\n    return new Promise((resolve) => {\n      fs.access(path, fs.constants.F_OK, (err) => {\n        resolve(!err);\n     });\n    });\n  }\n\n  // helper function to write data to file\n  static async writeContent(filePath, data) {\n    fs.promises.writeFile(filePath, data, 'utf-8', (error) => {\n      if (error) reject(false);\n      resolve(true);\n    });\n  }\n  static async postUpload(req, res) {\n    // validate user\n    const user = await FilesController.findUser(req);\n    if (!user) {\n      res.status(401).send({error: 'Unauthorized',});\n      return;\n    }\n    const types = ['folder', 'file', 'image'];\n    const { name, type, parentId, isPublic, data, } = req.body;\n    \n    if (!name) {\n      res.status(400).json({error: \"Missing name\"});\n      return;\n    }\n    \n    if (!type || !types.includes(type)) {\n      res.status(400).json({error: \"Missing type\"});\n      return;\n    }\n    \n    if (!data && (type !== 'folder')) {\n      res.status(400).json({error: \"Missing data\"});\n      return;\n    }\n\n    if (parentId) {\n      const db = dbClient.db.collection('files');\n      const file = await db.findOne({_id: ObjectId(parentId),});\n      if (!file) {\n        res.status(400).json({error: \"Parent not found\"});\n\treturn;\n      }\n      if (file.type !== 'folder') {\n        res.status(400).json({error: \"Parent is not a folder\",});\n\treturn;\n      }\n    }\n    \n    const newFile = {\n      name,\n      type, \n      parentId: parentId || 0,\n      isPublic: isPublic || false,\n      userId: user._id.toString(),\n    };\n    \n    if (newFile.type === 'folder') {\n      const db =  dbClient.db.collection('files');\n      const result = await db.insertOne(newFile);\n      newFile.id = result.insertedId;\n      delete newFile._id;\n      res.status(201).json(newFile);\n    } else {\n      const folderPath = process.env.FOLDER_PATH || \"/tmp/files_manager\";\n      const fileName = uuidv4();\n      const filePath = path.join(folderPath, fileName);\n      \n      newFile.localPath = filePath;\n      const plainData = Buffer.from(data, 'base64').toString('utf8');\n      \n      // creating directory\n      const validPath = await FilesController.validatePath(folderPath);\n      if (!validPath) {\n        await fs.promises.mkdir(folderPath, {recursive: true} );\n      }\n      try {\n        const success = await FilesController.writeContent(filePath, plainData);\n\tconst db = dbClient.db.collection('files');\n\tconst result = await db.insertOne(newFile);\n        const resContent = { ...newFile, id: result.insertedId, };\n\tdelete resContent._id;\n\tdelete resContent.localPath;\n\t\n\t // processing thumbnails\n\tif (resContent.type === 'image') {\n          fileQueue.add({\n            userId: resContent.userId,\n\t    fileId: resContent.id });\n\t}\n\tres.setHeader('Content-Type', 'application/json');\n\tres.status(201).json(resContent);\n      } catch (error) {\n        console.log(error.message);\n        res.status(400).json({error: \"internal error\"});\n        return;\n      }\n    }\n  }\n\n  // retrieves  the file document based on the id\n  static async getShow(req, res) {\n    const fileId = req.params.id;\n    const user = await FilesController.findUser(req);\n    if (!user) {\n      res.status(401).send({error: 'Unauthorized',});\n      return;\n    }\n    const db = dbClient.db.collection('files');\n    const userFile = {_id: ObjectId(fileId), userId: user._id.toString(),};\n    const doc = await db.findOne(userFile);\n    if (!doc) {\n      res.status(404).json({error: \"Not found\"});\n    } else {\n      doc.id = doc._id;\n      delete doc._id;\n      delete doc.localPath;\n      res.status(200).json(doc);\n    }\n  }\n\n  static async getIndex(req, res) {\n    const { parentId, page, }  = req.query;\n    const user = await FilesController.findUser(req);\n    if (!user) {\n      res.status(401).send({error: 'Unauthorized',});\n      return;\n    }\n    let search;\n    const db = dbClient.db.collection('files');\n    if (!parentId) {\n      search = {userId: user._id.toString(), };\n    } else {\n      search = {userId: user._id.toString(), parentId,};\n    }\n    \n    // pagination elements\n    const limit = 20;\n    const pageNumber = page || 1;\n    const skips = (pageNumber - 1) * limit;\n\n    // pagination using aggregation\n    const result = await db.aggregate([\n      {\n        $match: search,\n      },\n      {\n\t$skip: skips,\n      },\n      {\n        $limit: limit,\n      },\n    ]).toArray();\n\n    const output = result.map((file) => {\n      const newFile = { ...file, id: file._id,};\n      delete newFile._id;\n      delete newFile.localPath;\n      return newFile;\n    });\n    res.status(200).json(output);\n  }\n  // sets isPublic to true\n\n  static async putPublish(req, res) {\n    const user = await FilesController.findUser(req);\n    if (!user) {\n      res.status(401).send({error: 'Unauthorized',});\n      return;\n    }\n    const fileId = req.params.id;\n    const db = dbClient.db.collection('files');\n    const queryFile = {_id: ObjectId(fileId), userId: user._id.toString(),};\n    const doc = await db.findOne(queryFile);\n    if (!doc) {\n      res.status(404).json({error: \"Not found\"});\n    } else {\n      const update = {$set: {isPublic: true,}};\n      await db.updateOne({ _id: ObjectId(fileId),}, update).catch((err) => {\n        console.log(err.message);\n      });\n      const results = await db.findOne(queryFile);\n      results.id = results._id;\n      delete results._id;\n      delete results.localPath;\n      return res.status(200).json(results);\n    }\n  }\n\n  // sets isPublic to false\n  static async putUnpublish(req, res) {\n    const user = await FilesController.findUser(req);\n    if (!user) {\n      res.status(401).send({error: 'Unauthorized',});\n      return;\n    }\n    const fileId = req.params.id;\n    const queryFile = {_id: ObjectId(fileId), userId: user._id.toString(),};\n    const db = dbClient.db.collection('files');\n    const doc = await db.findOne(queryFile);\n    if (!doc) {\n      res.status(401).json({error: \"Unauthorized\"});\n      return;\n    } else {\n      const query = {_id: ObjectId(fileId),};\n      const update = {$set: {isPublic: false,},};\n      await db.updateOne(query, update);\n      const results = await db.findOne(queryFile);\n      results.id = results._id;\n      delete results._id;\n      delete results.localPath;\n      res.status(200).json(results);\n    }\n  }\n  // returns content of file document based on the id\n\n  static async getFile(req, res) {\n    const fileId = req.params.id;\n    const { size } = req.query;\n    const db = dbClient.db.collection('files');\n    const file = await db.findOne({_id: ObjectId(fileId),});\n    if (!(await file)) {\n      res.status(404).json({error: \"Not found\"});\n      return;\n    }\n    // check user authentication\n    const user = await FilesController.findUser(req);\n    if (file.isPublic === false) {\n      if (user) {\n        if (user._id.toString() !== file.userId) {\n          res.status(404).json({error: \"Not found\"});\n          return;\n\t}\n      } else {\n\tres.status(404).json({error: \"Not found\"});\n\treturn;\n      }\n    }\n\n    if (file.type === 'folder') {\n      res.status(400).json({error: \"A folder doesn't have content\"});\n      return;\n    }\n    let path = file.localPath;\n    if (size && file.type === 'image') {\n      path = `${file.localPath}_${size}`;\n    }\n    const verified = await FilesController.validatePath(path);\n    if (!verified) {\n      res.status(404).json({error: \"Not found\"});\n      return;\n    } else {\n      res.set('Content-Type', mime.lookup(file.name));\n      res.status(200).sendFile(path);\n    }\n  }\n}\n\nexport default FilesController;\n"],"mappings":"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"}},"mtime":1655415412224}}